this.ht=this.ht||{},this.ht.vector=function(){"use strict";var ne="top",le="bottom",he="right",se="left",ue="center",h="multiple",s="single",b="radio",k="checkbox",D="x",T="y",U="HT2018-11",Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function s(e){this.value=e}function e(a){var r,n;function l(e,t){try{var o=a[e](t),i=o.value;i instanceof s?Promise.resolve(i.value).then(function(e){l("next",e)},function(e){l("throw",e)}):h(o.done?"return":"normal",o.value)}catch(e){h("throw",e)}}function h(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?l(r.key,r.arg):n=null}this._invoke=function(i,a){return new Promise(function(e,t){var o={key:i,arg:a,resolve:e,reject:t,next:null};n?n=n.next=o:(r=n=o,l(i,a))})},"function"!=typeof a.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),n=function(){function i(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}(),o=function e(t,o,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,i)}if("value"in a)return a.value;var n=a.get;return void 0!==n?n.call(i):void 0},c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(i=(n=l.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw r}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ve=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)},e=ht.Default,K=e.drawText,$=e.drawStretchImage,q=e.getImage,J=[2,8],t=ht.Default,re=t.drawText,ce=t.drawStretchImage,de=t.getImage,ke={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ee=ht.Default.drawText,V={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"},l=/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/,g=/^[rR][gG][Bb][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?))\)$/,f=/^[rR][gG][Bb][Aa][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){3}(0\.\d{1,22}|1|0)?[\)]{1}$/,v=function(){function a(e,t,o,i){u(this,a),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,o,i)}return n(a,[{key:"setColor",value:function(e,t,o,i){if(e&&!t)if(e=e.replace(/\s+/g,""),l.test(e))4===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[3],16),this.b=parseInt(e[3]+e[3],16)):7===e.length&&(this.r=parseInt(e.substring(1,3),16),this.g=parseInt(e.substring(3,5),16),this.b=parseInt(e.substring(5,7),16));else if(g.test(e)){var a=(e=e.replace(/[rRgGbB\(\)\s]*/g,"")).split(",");this.r=parseInt(a[0]),this.g=parseInt(a[1]),this.b=parseInt(a[2])}else if(f.test(e)){var r=(e=e.replace(/[rRgGbBaA\(\)\s]*/g,"")).split(",");this.r=parseInt(r[0]),this.g=parseInt(r[1]),this.b=parseInt(r[2]),this.a=parseFloat(r[3])}}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,o=this.b;return null!==e&&null!==t&&null!==o?"rgb("+e+", "+t+", "+o+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,o=this.b,i=this.a;return null!==e&&null!==t&&null!==o?"rgba("+e+", "+t+", "+o+", "+(null===i?1:i.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,o=this.b;return null!==e&&null!==t&&null!==o?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(o):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),a}(),i=ht.Default,G=i.drawText,Y=i.drawStretchImage,j=i.getImage,X="#ffffff",z="#cccccc",Q=new v,a=ht.Default,ge=a.drawText,fe=a.drawStretchImage,ve=a.getImage,te=function(e,t){return e<=1?t*e:e},oe=void 0,ie=void 0,ae=void 0,pe=void 0,ye=void 0,xe=void 0,be=function(e,t){return t?(e-xe)/oe*ie+ae:pe-(e-xe)/oe*ie},me=ht.Default.drawText,Ce=function(e,t){return e<1?t*e:e},C=Math.max,_=Math.min,r=ht.Default,I=r.containsPoint,S=r.drawRoundRect;function lt(e,t,o,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=arguments[5],n=t.x,l=t.y,h=t.width,s=t.height,u=o.width,c=o.height,d=i.x,g=i.y,f=void 0,v=void 0,p=null,y=null,x=void 0,b=void 0,m=a.color,w=void 0===m?"red":m,k=a.barWidth,V=void 0===k?8:k,C=a.gap,_=void 0===C?2:C,D=a.visible;if(e.save(),s<c){var T=s*(b=s/c);y=[n+h-V-_,l+-g*b,V,Math.max(T,4)],v=s-c,D&&(e.beginPath(),S.apply(void 0,[e].concat(Ve(y),[Math.min(V,T)/2])),e.fillStyle=w,e.fill())}if(h<u-2){var I=h*(x=h/u);p=[n+-d*x,l+s-V-_,Math.max(I,4),V],f=h-u,D&&(e.beginPath(),S.apply(void 0,[e].concat(Ve(p),[Math.min(V,I)/2])),e.fillStyle=w,e.fill())}r.scrollInfo={scrollBarX:p,scrollBarY:y,scaleX:x,scaleY:b,minX:f,minY:v},e.restore()}function R(e,t,o,i,a,r,n){var l=Bo(e,"translateY"),h=Bo(e,"translateX"),s=To(o,t,e),u=Io(o,t,e),c=u.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,d=u.scrollInfo;if(d){var g=d.minX,f=d.minY,v=d.scrollBarX,p=d.scrollBarY,y=d.scaleX,x=d.scaleY,b=void 0,m={x:i.x+s.rect.x,y:i.y+s.rect.y};if(v){var w=(c-(v=_o(v)).height)/2;v.y-=w,v.height=c}if(p){var k=(c-(p=_o(p)).width)/2;p.x-=k,p.width=c}if(v&&h&&I(v,m))b={downPoint:i,startX:t.a(h)||0,scaleX:y,minX:g,axis:D};else if(p&&l&&I(p,m))b={downPoint:i,startY:t.a(l)||0,scaleY:x,minY:f,axis:T};else{var V=u.headHeight,C={x:0,y:V,width:a,height:r-V};!n&&u.pannable&&I(C,i)&&(v||p)&&(b={downPoint:i,scaleX:y,minX:g,scaleY:x,minY:f,isPan:!0},v&&h&&(b.startX=t.a(h)||0,b.scaleX=y,b.minX=g),p&&l&&(b.startY=t.a(l)||0,b.scaleY=x,b.minY=f))}return b}}function p(e,t,o,i,a,r){var n=Io(o,t,this),l=R(this,t,o,i,a,r);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function y(e,g,t,f,o,i){var v=Io(t,g,this),p=v._scrollDragInfo,y=Bo(this,"translateY"),x=Bo(this,"translateX");v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,o=p.minY,i=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,h=p.isPan;if(e===D){var s=a+(i.x-f.x)/n;s=_(0,s),s=C(t,s),x&&g.a(x,s)}else if(e===T){var u=r+(i.y-f.y)/l;u=_(0,u),u=C(o,u),y&&g.a(y,u)}else if(h){if(void 0!==a){var c=a+(f.x-i.x);c=_(0,c),c=C(t,c),x&&g.a(x,c)}if(void 0!==r){var d=r+(f.y-i.y);d=_(0,d),d=C(o,d),y&&g.a(y,d)}}}delete v._dragTimer},10))}function x(e,t,o,i,a,r){var n=Io(o,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,u=n.autoHideScrollBar;(h||s)&&u&&(n.scrollBarVisible=!0,P(t,n)),delete n._scrollDragInfo}}function m(e,t,o,i,a,r){var n=Io(o,t,this),l=n.scrollInfo,h=n.scrollSpeed||1,s=Bo(this,"translateY"),u=Bo(this,"translateX");if(l){var c=l.scrollBarX,d=l.scrollBarY,g=l.minX,f=l.minY,v=(e.wheelDeltaX||0)/40*5*h,p=(e.wheelDeltaY||0)/40*5*h,y=!1;if(d&&s&&p){var x=(t.a(s)||0)+p;x=_(0,x),x=C(f,x),t.a(s,x),y=!0}if(c&&u&&v){var b=(t.a(u)||0)+v;b=_(0,b),b=C(g,b),t.a(u,b),y=!0}if(!y&&c&&!d&&u&&p){var m=(t.a(u)||0)+p;m=_(0,m),m=C(g,m),t.a(u,m)}var w=n.autoHideScrollBar;(c||d)&&w&&(n.scrollBarVisible=!0,P(t,n))}}function P(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var w=ht.Default,_e=w.drawText,De=w.drawStretchImage,Te=w.getImage,Ie=w.drawBorder,Se=w.intersectsRect,Re=/\n/g;var F=ht.Default.drawText,A=ht.Default,W=A.drawRoundRect,N=A.drawImage,E=ht.Default,Pe=E.drawRoundRect,Ae=E.drawImage,L=ht.Default,Ee=L.drawRoundRect,Le=L.drawText,Me=L.createGradient,M=function(){function t(e){u(this,t),this.children=[],this.data=e}return n(t,[{key:"addChildren",value:function(e){this.children.push(e)}},{key:"expandAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!0)}),this.data.iv()}},{key:"collapseAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!1)}),this.data.iv()}},{key:"checkAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!0,e._isShowUnCheckAllIcon=!1}),this.data.iv()}},{key:"unCheckAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!1,e._isShowUnCheckAllIcon=!1}),this.data.iv()}},{key:"disableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!0}),this.data.iv()}},{key:"enableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!1}),this.data.iv()}},{key:"getSelected",value:function(){return this.filterByBreadthFirst(function(e){return e.selected})}},{key:"getUnselected",value:function(){return this.filterByBreadthFirst(function(e){return!e.selected})}},{key:"getExpanded",value:function(){return this.filterByBreadthFirst(function(e){return e.expanded})}},{key:"getCollapsed",value:function(){return this.filterByBreadthFirst(function(e){return!e.expanded})}},{key:"getChecked",value:function(){return this.filterByBreadthFirst(function(e){return e.checked})}},{key:"getUnChecked",value:function(){return this.filterByBreadthFirst(function(e){return!e.checked})}},{key:"getEnabled",value:function(){return this.filterByBreadthFirst(function(e){return!e.disabled})}},{key:"getDisabled",value:function(){return this.filterByBreadthFirst(function(e){return e.disabled})}},{key:"filterByDepthFirst",value:function(e){for(var t=[],o=this.children,i=[],a=o.length-1;0<=a;a--)i.push(o[a]);for(;0!=i.length;){var r=i.pop();e(r)&&t.push(r);for(var n=r.children,l=n.length-1;0<=l;l--)i.push(n[l])}return t}},{key:"traverseByDepthFirst",value:function(e){for(var t=this.children,o=[],i=t.length-1;0<=i;i--)o.push(t[i]);for(;0!=o.length;){var a=o.pop();e(a);for(var r=a.children,n=r.length-1;0<=n;n--)o.push(r[n])}}},{key:"filterByBreadthFirst",value:function(e){for(var t=[].concat(this.children),o=[];0<t.length;){var i=t.shift(),a=i.children;t=t.concat(a),e(i)&&o.push(i)}return o}},{key:"traverseByBreadthFirst",value:function(e){for(var t=[].concat(this.children);0<t.length;){var o=t.shift(),i=o.children;t=t.concat(i),"function"==typeof e&&e(o)}}}]),t}(),B=function(){function o(e){u(this,o),Object.assign(this,Object.assign({text:"treeItem",icon:null,children:[],tags:[],expanded:!1,selected:!1,disabled:!1,checked:!1,isLeaf:!1,_isHovering:!1,_isLoading:!1,_isShowUnCheckAllIcon:!1,_treeItemRect:{},_elementRect:{},_textInfo:{}},e)),this.children=[]}return n(o,[{key:"getSiblings",value:function(){var e=this.parent.children,t=e.indexOf(this);return e.slice(0,t).concat(e.slice(t+1,e.length))}},{key:"getPreSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getNextSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)+1;return t===e.length?null:e[t]}},{key:"setParent",value:function(e){this.parent=e,this.parent.addChildren(this)}},{key:"addChildren",value:function(e){var t=this;e instanceof o?this.children.push(e):e instanceof Array&&e.forEach(function(e){O(e,t)})}},{key:"isVisible",value:function(){for(var e=this.parent;e instanceof o;){if(!e.expanded)return!1;e=e.parent}return!0}},{key:"checkAfter",value:function(){var t=this.checked;this._isShowUnCheckAllIcon=!1,this.children.forEach(function(e){e.checked=t,e.checkAfter()})}},{key:"checkBefore",value:function(){var e=this.parent,t=0,o=0;if(e&&!(e instanceof M)){for(var i=e.children,a=i.length,r=0;r<a;r++){var n=i[r];n.checked&&t++,n._isShowUnCheckAllIcon&&o++}0!==t?t===r?(e._isShowUnCheckAllIcon=!1,e.checked=!0):(e._isShowUnCheckAllIcon=!0,e.checked=!1):(e.checked=!1,e._isShowUnCheckAllIcon=0!==o),e.parent&&e.checkBefore()}}}]),o}(),O=function t(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=e.children,a=new B(e);return o&&a.setParent(o),a.deep=H(a),i&&0<i.length&&i.forEach(function(e){t(e,a)}),a},H=function(e){for(var t=0,o=e.parent;o instanceof B;)o=o.parent,t++;return t},st=function(e){var t=e.getValue("showCheckbox"),o=e.getValue("showIcon"),i=e.getValue("expandIconSize"),a=e.getValue("iconSize"),r=e.getValue("checkIconSize"),n=e.getValue("space"),l=i+n;return o&&(l+=a+n),t&&(l+=r+n),l},ut=function(e){var t=e.x,o=e.y,i=e.width,a=e.height,r=i/2,n=a/2;return{middleMiddle:{x:t+r,y:o+n},topMiddle:{x:t+r,y:o},bottomMiddle:{x:t+r,y:o+a},leftMiddle:{x:t,y:o+n},rightMiddle:{x:t+i,y:o+n}}},Be=ht.Default,ct=Be.drawStretchImage,dt=Be.getImage,gt=Be.intersectsRect,ft=Be.drawRoundRect,Oe=ht.Default,He=Oe.drawText,We=Oe.drawStretchImage,Fe=Oe.getImage,Ne=function(e,t,o,i){for(var a=[],r=0,n=ho(o,"å›¾"),l=n.height/3,h=1,s=e.length;h<=s;h++)t<(l+=n.height+i)&&(r=h-1===r?(a.push(e.substring(r,h)),h):(a.push(e.substring(r,h-1)),h-1),l=n.height/3);return r!==h-1&&a.push(e.substring(r,h)),a},Ge=function(){function e(){u(this,e)}return n(e,[{key:"onClick",value:function(e,t,o,i,a,r){}},{key:"onDoubleClick",value:function(e,t,o,i,a,r){}},{key:"onDown",value:function(e,t,o,i,a,r){}},{key:"onUp",value:function(e,t,o,i,a,r){}},{key:"onMove",value:function(e,t,o,i,a,r){}},{key:"onEnter",value:function(e,t,o,i,a,r){}},{key:"onHover",value:function(e,t,o,i,a,r){}},{key:"onLeave",value:function(e,t,o,i,a,r){}},{key:"onBeginDrag",value:function(e,t,o,i,a,r){}},{key:"onDrag",value:function(e,t,o,i,a,r){}},{key:"onEndDrag",value:function(e,t,o,i,a,r){}},{key:"onScroll",value:function(e,t,o,i,a,r){}}]),e}(),Ue=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onEnter",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?Lo(o,"not-allowed"):Lo(o,"text")}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);Lo(o,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,o,i){var n=Io(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,c=n.textColor,d=n.wordBreak,g=n.selectTextOnFocus,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,x=n.lineHeight,b=co("textarea"),m=b.style,w=Bo(this,"value"),k=so(f),V=we(k,4),C=V[0],_=V[1],D=V[2],T=V[3];m.color=c,m.font=l,m.paddingTop=C+"px",m.paddingRight=_+"px",m.paddingBottom=D+"px",m.paddingLeft=2+T+"px",m.textAlign=s,m.resize="none",m.overflow="hidden",m.lineHeight=x+"px",m.wordBreak=d?"break-all":"keep-word",b.value=h||"",u&&b.setAttribute("maxlength",u),r.appendHTML(b);var I=To(r,a,this);I&&go(r,b,I),n.editing=!0,n.editingValue=h,a.iv();var S=function(e){go(r,b,I)},R=function e(t){var o=b.getBoundingClientRect(),i=ht.Default.getClientPoint(t);ht.Default.containsPoint(o,i)||(t.preventDefault(),Ro(a,r,b,n,w),r.ump(S),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){g&&b.addEventListener("focus",function(e){b.select()}),b.focus(),r.mp(S);var t=null;b.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=b.value,a.a(w,b.value)},10),9===e.keyCode&&(Ro(a,r,b,n,w),r.getView().removeEventListener("mousedown",R),r.getView().removeEventListener("touchstart",R)),v&&v(e,a,r)}),(p||y)&&b.addEventListener("keyup",function(e){p&&v(e,a,r),y&&p(b.value,a,r)}),r.getView().addEventListener("mousedown",R),r.getView().addEventListener("touchstart",R)},1)}}},{key:"onDrag",value:function(e,t,o,i,a,r){}}]),t}(),Ye=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onEnter",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?Lo(o,"not-allowed"):Lo(o,"text")}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);Lo(o,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,o,i){var n=Io(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,c=n.textColor,d=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,x=n.selectTextOnFocus,b=a.getAnchorRect(),m=co(),w=c||ke.textColor,k=m.style,V=Bo(this,"value"),C=so(f),_=we(C,4),D=_[0],T=_[1],I=_[2],S=_[3];d&&(m.type=d),k.color=w,k.font=l,k.paddingTop=D+"px",k.paddingRight=T+"px",k.paddingBottom=I+"px",k.paddingLeft=2+S+"px",k.lineHeight=b.height+"px",k.textAlign=s,m.value=h||"",m.spellcheck=!1,u&&m.setAttribute("maxlength",u),r.appendHTML(m);var R=To(r,a,this);R&&go(r,m,R),n.editing=!0,n.editingValue=h,a.iv();var P=function(e){go(r,m,R)},A=function e(t){var o=m.getBoundingClientRect(),i=ht.Default.getClientPoint(t);ht.Default.containsPoint(o,i)||(t.preventDefault(),Ro(a,r,m,n,V),r.ump(P),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){x&&m.addEventListener("focus",function(e){m.select()}),m.focus(),r.mp(P);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,a.a(V,m.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(Ro(a,r,m,n,V),r.getView().removeEventListener("mousedown",A),r.getView().removeEventListener("touchstart",A)),v&&v(e,a,r)}),(p||y)&&m.addEventListener("keyup",function(e){p&&p(e,a,r),y&&y(m.value,a,r)}),r.getView().addEventListener("mousedown",A),r.getView().addEventListener("touchstart",A)},1)}}},{key:"onDrag",value:function(e,t,o,i,a,r){}}]),t}(),je=ht.Default.containsPoint,Xe=function(e,t,o,i,a,r,n){if(i&&(i.editing=!1,delete i.dom),a){var l=parseFloat(o.value);Ao(n)||(l=Math.min(l,n)),Ao(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),t.getView().removeChild(o)},ze=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onEnter",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?Lo(o,"not-allowed"):Lo(o,"text")}},{key:"onLeave",value:function(e,t,o,i,a,r){Lo(o,"default")}},{key:"onDown",value:function(e,a,r,t,o,i){var n=Io(r,a,this),l=To(r,a,this),h=n.buttonRects,s=n.onKeyDown,u=n.onKeyUp,c=n.onChange,d=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=h&&(je(h[0],f)||je(h[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,y=Bo(this,"value");if(!y)return;var x=n.dom&&n.dom.value||a.a(y)||d||0,b=void 0;je(h[0],f)?(b=Oo(parseFloat(x),p),Ao(g)||(b=Math.min(b,g))):(b=Ho(parseFloat(x),p),Ao(d)||(b=Math.max(b,d))),n.editing?(n.editingValue=n.dom.value=b,a.iv()):a.a(y,b),c&&x!==b&&c(b,a)}}else{var m=n.font,w=n.value,k=n.textAlign,V=n.maxLength,C=n.textColor,_=n.enterEndInputable,D=n.padding,T=n.selectTextOnFocus,I=a.getAnchorRect(),S=co(),R=C||ke.textColor,P=S.style,A=Bo(this,"value"),E=so(D),L=we(E,4),M=L[0],B=L[1],O=L[2],H=L[3];P.color=R,P.font=m,P.paddingTop=M+"px",P.paddingRight=B+"px",P.paddingBottom=O+"px",P.paddingLeft=2+H+"px",P.lineHeight=I.height+"px",P.textAlign=k,S.value=w||"",S.spellcheck=!1,V&&S.setAttribute("maxlength",V),r.appendHTML(S);var W=To(r,a,this);W&&go(r,S,W),n.editing=!0,n.editingValue=w,n.dom=S,a.iv();var F=function(e){go(r,S,W)},N=function e(t){var o=S.getBoundingClientRect(),i=ht.Default.getClientPoint(t);ht.Default.containsPoint(o,i)||(t.preventDefault(),Xe(a,r,S,n,A,d,g),r.ump(F),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){T&&S.addEventListener("focus",function(e){S.select()}),S.focus(),r.mp(F);var t=null;S.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=S.value,a.a(A,S.value)},10),(9===e.keyCode||_&&ht.Default.isEnter(e))&&(Xe(a,r,S,n,A,d,g),r.getView().removeEventListener("mousedown",N),r.getView().removeEventListener("touchstart",N)),s&&s(e,a,r)}),S.addEventListener("keyup",function(e){u&&u(e,a,r),c&&c(parseFloat(S.value),a,r)}),S.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",N),r.getView().addEventListener("touchstart",N)},1)}}},{key:"onMove",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=To(o,t,this),h=n.buttonRects,s={x:i.x+l.rect.x,y:i.y+l.rect.y},u="text";n.disabled?u="not-allowed":h&&(ht.Default.containsPoint(h[0],s)||ht.Default.containsPoint(h[1],s))&&(n.oldCursor,u="pointer"),Lo(o,u),n.dom&&(n.dom.style.cursor=u)}}]),t}(),Ke=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onDown",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?Lo(o,"not-allowed"):Lo(o,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);Lo(o,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),t}(),Ze=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<i.x&&i.x<a&&0<i.y&&i.y<r&&l(e,t,o))}}]),t}(),$e=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.disabled,h=n.pressed,s=Bo(this,"checked"),u=Bo(this,"group");if(!l){t.a(h,!1),t.iv();var c=n.value,d=n.onChange,g=n.group;if(!t.a(s)&&0<i.x&&i.x<a&&0<i.y&&i.y<r){var f=t.a(s);o&&o.dm()&&!f&&g&&o.dm().each(function(e){g===e.a(u)&&e.a(s,!1)}),t.a(s,!0),d&&d(void 0===c||c,t,o)}}}}]),t}(),qe=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.disabled,h=n.pressed,s=Bo(this,"checked"),u=Bo(this,"group"),c=Bo(this,"value");if(!l){t.a(h,!1),t.iv();n.value;var d=n.group,g=n.onChange;if(0<i.x&&i.x<a&&0<i.y&&i.y<r){var f=t.a(s);if(t.a(s,!f),g)if(d){var v=[];o.dm().each(function(e){d===e.a(u)&&e.a(s)&&v.push(e.a(c))}),g(v,t,o)}else g(!f,t,o)}}}}]),t}(),Je=function(){function a(t,e,o,i){u(this,a),this.data=t,this.graph=e,this.vectorInfo=o,this.valueType=i,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}return n(a,[{key:"init",value:function(){var e=this;this._initing=!0;var t=this.data,o=this.graph,i=o.getZoom(),a=(o.tx(),o.ty(),this.value),r=new this.dropDownClazz,n=r._dropDownView=r.initDropDownView(t,this.getDatas(),a);r.getDropDownView=function(){return n},n.on("d:click",function(e){e.stopPropagation()}),n.on("d:mousedown",function(e){e.stopPropagation()}),n.on("d:mousewheel",function(e){e.stopPropagation()}),n.on("d:mousemove",function(e){e.stopPropagation()}),this._dropDown=r,this._dropDownView=n,this.onInit(r,n);t.getWidth(),t.getHeight();var l=No(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(r,n,{left:l.x,top:l.y,width:l.widht,height:l.height}),o.getView().appendChild(n.getView()),r.addValueChangeListener(this.handleDropDownValueChange,this),r.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){e.registerCloseEvent(e._documentClickHandler)},100),r.afterOpen(a),n.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,o){var i=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=o.left+r.left,l=o.top+o.height+r.top;n+i>r.left+r.width&&(n=r.left+r.width-i),l+a>r.top+r.height&&(l-=o.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(i),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){ht.Default.isTouchable?document.addEventListener("touchstart",e):document.addEventListener("mousedown",e)}},{key:"unregisterCloseEvent",value:function(e){ht.Default.isTouchable?document.removeEventListener("touchstart",e):document.removeEventListener("mousedown",e)}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,o=this.graph;if(ht.Default.isLeftButton(e)){var i=this._dropDown,a=this._dropDownView;if(a){var r=t.getWidth(),n=t.getHeight(),l=o.tx(),h=o.ty(),s=o.getZoom(),u={x:t.getX()*s+l-r*t.getAnchor().x,y:t.getY()*s+h-n*t.getAnchor().y,width:r,height:n},c=a.containsEvent?a.containsEvent(e):i.isClickOnDropDownView(e);ht.Default.containsPoint(u,ht.Default.getClientPoint(e))||c||this.close()}}}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this,o=t._dropDown,i=t._dropDownView;if(o){if(o.beforeClose(),"stop"===e.kind){var a=o.getDropDownValue();void 0!==a&&(this.value=a)}t._clearDropDown(),ht.Default.removeHTML(i.getView()),o.removeValueChangeListener(t.handleDropDownValueChange,t),this.unregisterCloseEvent(this._documentClickHandler),o.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),o=we(t,2),i=o[0],a=o[1];if("a"===i)return e.a(a);if("s"===i)return e.s(a);if("p"===i){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,o=this.valueType,i=this.graph,a=o.split("@"),r=we(a,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}h&&h(s,e,t,i)}}]),a}(),Qe=function(e){function r(e,t,o,i){u(this,r);var a=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,o,i));return a.dropDownClazz=ht.ui.ColorDropDown,a}return c(r,Je),r}(),et=function(e,t,o,i){var a=o.dropDown;a||(a=new Qe(e,t,o,"a@"+i),o.dropDown=a),a.open()},tt=function(e){function r(e,t,o,i){u(this,r);var a=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,o,i));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}return c(r,Je),n(r,[{key:"onInit",value:function(e,t){var o=this.data.a(V.DATE_TYPE);e.setPropertyValue("dateTimePane.type",o,!0)}}]),r}(),ot=function(e,t,o,i){var a=o.dropDown;a||(e.getFormat=function(){return e.a(V.FORMAT)},a=new tt(e,t,o,i),o.dropDown=a),a.open()},it=function(e){function r(e,t,o,i){u(this,r);var a=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,o,i));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}return c(r,Je),n(r,[{key:"onInit",value:function(e,t){var o=this.data.a(V.DATE_TYPE);e.setPropertyValue("dateTimePane.type",o,!0)}}]),r}(),at=(function(e){function a(e,t,o){u(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t,o));return i.dropDownClazz=ht.ui.ListDropDown,i}c(a,Je),n(a,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}])}(),function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Bo(this,"value",t,o);0<i.x&&i.x<a&&0<i.y&&i.y<r&&et(t,o,n,l)}}}]),t}()),rt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){var l=Bo(this,"value");0<i.x&&i.x<a&&0<i.y&&i.y<r&&ot(t,o,n,"a@"+l)}}}]),t}(),nt=function(e){function t(e){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return c(t,e),n(t,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,o=t.getDataAt(e);o&&t.sm().ss(o)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,o=t._hoverData,i=t.getDataAt(e);i!==o&&(t._hoverData=i&&t.sm().contains(i)?null:i,console.log(t._hoverData),t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),t}(ht.graph.Interactor),vt={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},pt=function(e){function i(e){u(this,i);var t=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new nt(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var o=t.getView().style;return o.transition="all 0.2s",o.transitionOrigin="0 0",t}return c(i,e),n(i,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,o=this.dm().toDatas(function(e){return t.isVisible(e)}),i=this.getHeight()-o.size()*this._rowHeight;return 0<=e||0<=i?0:i<e?e:i}},{key:"handleScroll",value:function(e){var t=lo?-e.detail:e.wheelDelta/40;(lo||e.wheelDelta!==e.wheelDeltaX)&&this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1;this._lastWidth=this.getWidth();var o=this._iconHeight,i=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*i,l=.5*a;r.forEach(function(e,t){e.setSize(i,o),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(t){var o=this,i=this._rowHeight,a=this.getWidth(),r=this._hoverData;this.dm().toDatas(this.isVisible,this).each(function(e){o.isSelected(e)?(t.beginPath(),t.rect(0,e.p().y-i/2,a,i),t.fillStyle=o.getActiveColor()||vt.baseColor,t.fill()):e===r&&(t.beginPath(),t.rect(0,e.p().y-i/2,a,i),t.fillStyle=o.getHoverBackground()||vt.hoverBackground,t.fill())})}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),o=this.getScrollRect(),i=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(i*=1.5),o.height>t.height&&a.x-t.x>t.width-i}}]),i}(ht.graph.GraphView);bo(pt,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var yt=function(e){function l(e,t,o,i,a){u(this,l);var r=d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));r.setSelectionMode(a?h:s),r._master=e,r._masterGraph=t,r._vectorInfo=o,r._valueName=i,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",fo(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,o=r.getDataAt(e);o!==t&&(r._hoverData=o&&r.sm().contains(o)?null:o,r.redraw())}),r._initStyleByMaster(),r}return c(l,pt),n(l,[{key:"_initStyleByMaster",value:function(){var e=this._vectorInfo;this.setIconHeight(e.dropIconWidth),this.setIconWidth(e.dropIconHeight),this.setRowHeight(e.dropRowHeight),this.setDropWidth(e.dropWidth),this.setBackground(e.dropBackground),this.setHoverBackground(e.dropHoverBackground),this.setActiveColor(e.dropActiveBackground),this.setDropLabelColor(e.dropLabelColor),this.setDropActiveLabelColor(e.dropActiveLabelColor),this.setDropLabelFont(e.dropLabelFont),this.setMaxHeight(e.dropMaxHeight)}},{key:"handleSelectData",value:function(e){var t=this._master,o=this._vectorInfo,i=o.onChange,a=this.sm().getSelectionMode(),r=o.dataSource;if(r&&0!==r.length&&e){if(a===s)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===s)t.a(this._valueName,n),t.a(V.LABEL,this.__getLabel()),t.a(V.ICON,e.a("icon"));else{var l=this._previousValue,h=o.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}i&&i(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){h!==e&&s!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var o=this,i=this.dm();i.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":o.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":o.getLabelColor(t),"text.font":o.getDropLabelFont()}),t.a(e),i.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),o=e.getSelection(),i=e.getSelectionMode();if(s===i)return 0===o.size()?null:this.getNodeValue(o.get(0));if(h!==i)return null;var a=[];return o.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),o=e.getSelection(),i=e.getSelectionMode();if(s===i)return 0===o.size()?null:this.getNodeLabel(o.get(0));if(h!==i)return null;var a=[];return o.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),o=this.getRowHeight();t<e*o?this.ty(t-(e+1)*o):this.ty(0)}},{key:"open",value:function(){var o=this,e=this._master,t=(this._masterGraph,this.getView().style),i=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),r?"string"==typeof r?this.dm().each(function(e,t){e.a("value")===r&&(o.sm().ss(e),o.__scrollToIndex(t))}):r.length&&r.forEach(function(t){o.dm().each(function(e){e.a("value")===t&&o.sm().as(e)})}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(i),this.setHeight(a),fo(t,"transform","scaleY(0)"),document.body.appendChild(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){fo(t,"transform","scaleY(1)"),setTimeout(function(){o.redraw(),o.setOpened(!0),o._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=No(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),o=this.getView().style,i=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+i>t.width&&(r=t.width-i),o.left=r+"px",o.top=n+"px",fo(o,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),o=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),fo(o,"transform","scaleY(0)"),setTimeout(function(){document.body.removeChild(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){ht.Default.isTouchable?document.addEventListener("touchstart",e):document.addEventListener("mousedown",e)}},{key:"unRegisterCloseEvent",value:function(e){ht.Default.isTouchable?document.removeEventListener("touchstart",e):document.removeEventListener("mousedown",e)}},{key:"documentClickHandler",value:function(e){var t=this._master,o=this._masterGraph,i=No(this._vectorInfo.comp,t,o);ht.Default.containsPoint(i,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),l}();function xt(e,t,o,i,a){var r=o.dropDown;r||(r=window.dp=new yt(e,t,o,i,a),o.dropDown=r),r._transition||(r.isOpened()||r.setData(o.dataSource),r.toggle())}bo(yt,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:vt.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:vt.inputTextColor});var bt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Bo(this,"value",t,o);0<i.x&&i.x<a&&0<i.y&&i.y<r&&xt(t,o,n,l)}}},{key:"onDrag",value:function(e,t,o,i,a,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),t}(),mt=function(e,t,o,i,a){var r=Io(o,t,i),n=r.rowHeights,l=r.colWidths,h=r.headHeight,s=r.rowLineWidth,u=r.translateY,c=r.translateX,d=null,g=null;if(0<(u=Math.floor(a.y-u-h))&&n&&n.length){for(var f=d=0;d<n.length&&!(u<(f+=n[d]+s));d++);d===n.length&&(d=null)}if(0<(c=Math.floor(a.x-c))&&l&&l.length){for(var v=g=0;g<l.length&&!(c<(v+=l[g]));g++);g===l.length&&(g=null)}return{row:d,col:g}},wt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onDown",value:function(e,t,o,i,a,r){if(!R(this,t,o,i,a,r,!0)){var n=Io(o,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,u=Bo(this,"selectedIndex");if(!Ao(l)){var c=n.dataSource||[],d=n.onSelectRow,g=n.selectedIndex;if(c&&c[l]){if(h)if(g="number"==typeof g?[g]:null==g?[]:g.slice(0),ht.Default.isCtrlDown()){var f=g.indexOf(l);0<=f?g.splice(f,1):g.push(l)}else if(ht.Default.isShiftDown()&&0<g.length){var v=g[g.length-1];if(v<l)for(var p=v+1;p<=l;p++)g.indexOf(p)<0&&g.push(p);else if(l<v)for(var y=v-1;l<=y;y--)g.indexOf(y)<0&&g.push(y)}else g=[l];else g=[l];u&&t.a(u,g),d&&d(c[l],t,o)}}if(s){var x=n.colWidths,b=n.rowHeights,m=n.columns,w=n.dataSource,k=n.rawColIndexs,V=n.rawIndexs,C=mt(0,t,o,this,i),_=V[C.row],D=k[C.col];if(null!=D&&null!=_&&C.row<=b.length&&C.col<=x.length&&m&&w&&m[D].key){var T=m[D],I=w[_],S=I[T.key];T.format&&(S=T.format(S,I,_,D)),s(e,S,I,T,_,D,t,o)}}}}},{key:"onMove",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,u=n.columns,c=n.rawDatas,d=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=mt(0,t,o,this,i),p=n.scrollInfo,y=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,x=v.row,b=v.col;if(!n._scrollDragInfo&&d&&c){if(n.autoHideScrollBar&&(p.scrollBarX&&i.y>r-y||p.scrollBarY&&i.x>a-y))return n.scrollBarVisible=!0,t.iv(),void P(t,n);if(f)if(null!=b&&null!==x&&x<=l.length&&b<=h.length&&u&&c&&u[b].key){var m=u[b],w=c[x],k=d[x],V=g[b],C=w[m.key];m.format&&(C=m.format(C,w,k,V)),f(e,C,w,m,k,V,t,o)}else f();s!==d[x]&&(n.hoverIndex=d[x],t.iv())}}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l()}},{key:"onBeginDrag",value:function(e,t,o,i,a,r){p.apply(this,arguments)}},{key:"onDrag",value:function(e,t,o,i,a,r){y.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,o,i,a,r){x.apply(this,arguments)}},{key:"onScroll",value:function(e,t,o,i,a,r){m.apply(this,arguments)}}]),t}(),kt=function(e,t,o,i,a){var r=t.max,n=t.min,l=t.step,h=r-n,s=t.value,u=(o.x-i.x)/i.width*h+n,c=t.onChange,d=Bo(t.comp,"value");if(u=Math.min(r,u),u=Math.max(n,u),l){var g=u%l;u=u-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(d,u),c&&c(s,u,e,a)},Vt=ht.Default.containsPoint,Ct=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onDown",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){var l=Fo(n.barRect,2),h=jo(o,t,this,i);Vt(l,h)&&kt(t,n,h,l,o)}}},{key:"onMove",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=Fo(n.sliderRect,2),h=n.showToolTip,s=n.toolTipFormat,u=Bo(this,"value"),c=jo(o,t,this,i);if(Vt(l,c)&&h){var d=t.a(u);d=Ao(d)?"0":d+"",So.show(s?s(d):d,e)}else this.dragging||So.hide()}},{key:"onEnter",value:function(e,t,o,i,a,r){Io(o,t,this).disabled?Lo(o,"not-allowed"):Lo(o,"pointer")}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);Lo(o,"default"),n.dragging||So.hide()}},{key:"onBeginDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){var l=Fo(n.sliderRect,2),h=jo(o,t,this,i);Vt(l,h)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(n.dragging){var l=jo(o,t,this,i),h=n.barRect;kt(t,n,l,h,o);var s=n.showToolTip,u=n.toolTipFormat,c=n.value;s&&So.show(u?u(c):c,e)}}},{key:"onEndDrag",value:function(e,t,o,i,a,r){delete Io(o,t,this).dragging,So.hide()}}]),t}(),_t=function(e,t,o,i,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(o.x-i.x)/i.width*s+l,c=t.value,d=c[0],g=c[1],f=Bo(t.comp,"value"),v=t.onChange;if(u=Math.min(n,u),u=Math.max(l,u),h){var p=u%h;u=u-p+(Math.abs(p)>h/2)*(p<0?-h:h)}var y=null;if(t.dragging){var x=t.dragging;y=x<=u?[x,u]:[u,x]}else{var b=Math.abs(d-u);y=Math.abs(g-u)<=b?[d,u]:[u,g]}return r||e.a(f,y),v&&v(c,y,e,a),u},Dt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onDown",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){var l=Fo(n.barRect,2),h=Fo(n.valueBarRect,2),s=n.valueBarDraggable,u=jo(o,t,this,i);s&&ht.Default.containsPoint(h,u)||ht.Default.containsPoint(l,u)&&_t(t,n,u,l,o)}}},{key:"onMove",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=Fo(n.sliderRect,2),h=Fo(n.sliderRect2,2),s=n.showToolTip,u=n.toolTipFormat,c=n.value,d=jo(o,t,this,i);ht.Default.containsPoint(l,d)&&s?So.show(u?u(c[0]):c[0],e):ht.Default.containsPoint(h,d)&&s?So.show(u?u(c[1]):c[1],e):this.dragging||So.hide()}},{key:"onEnter",value:function(e,t,o,i,a,r){Io(o,t,this).disabled?Lo(o,"not-allowed"):Lo(o,"pointer")}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);Lo(o,"default"),n.dragging||So.hide()}},{key:"onBeginDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){var l=Fo(n.barRect,2),h=Fo(n.sliderRect,2),s=Fo(n.sliderRect2,2),u=Fo(n.valueBarRect,2),c=n.value,d=n.valueBarDraggable,g=jo(o,t,this,i);ht.Default.containsPoint(h,g)?n.dragging=c[1]:ht.Default.containsPoint(s,g)?n.dragging=c[0]:d&&ht.Default.containsPoint(u,g)&&(n.draggingValueBar=_t(t,n,g,l,o,!0))}}},{key:"onDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.showToolTip,h=n.toolTipFormat,s=n.barRect,u=jo(o,t,this,i);if(void 0!==n.dragging){var c=_t(t,n,u,s,o);l&&So.show(h?h(c):c,e)}else if(void 0!==n.draggingValueBar){var d=n.draggingValueBar,g=_t(t,n,u,s,o,!0),f=g-d,v=n.value,p=n.min,y=n.max,x=[v[0]+f,v[1]+f],b=Bo(this,"value");if(x[0]<p?x=[p,p+(v[1]-v[0])]:x[1]>y&&(x=[y-(v[1]-v[0]),y]),n.draggingValueBar=g,t.a(b,x),l){var m=x.join(",");h&&(m=x.map(function(e){return h(e)}).join(",")),So.show(m,e)}}}},{key:"onEndDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this);delete n.dragging,delete n.draggingValueBar,So.hide()}}]),t}(),Tt=function(e,t){if(t&&0<t.length)for(var o=0;o<t.length;o++){var i=we(t[o].rect,4),a=i[0],r=i[1],n=i[2],l=i[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[o].value}},It=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onDown",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=Bo(this,"value");if(!n.disabled&&l){var h=void 0;if((h=n.dropDown)&&h.isOpened())h.close();else{var s=n.value,u=s?s.slice(0):null,c=n.valueItemInfo,d=Tt(i,c);if(d&&s&&0<=s.indexOf(d)){var g=s.indexOf(d);s.splice(g,1);var f=s.slice(0);t.a(l,f),n.onChange&&n.onChange(u,f,t,o),Lo(o,"default"),this._hitValue=s}}}}},{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=Bo(this,"value");0<i.x&&i.x<a&&0<i.y&&i.y<r&&xt(t,o,n,l,!0)}}},{key:"onMove",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(n.disabled)Lo(o,"not-allowed");else{var l=n.valueItemInfo;Tt(i,l)?(this._oldCursor=o.getView().style.cursor,Lo(o,"pointer")):Lo(o,"default")}}},{key:"onEnter",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n.disabled?Lo(o,"not-allowed"):Lo(o,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,o,i,a,r){Lo(o,"default")}}]),t}(),St=ht.Default.containsPoint,Rt=function(e,t,o,i){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight;if(l<s){var u=l/s;if(St({x:a+n-8,y:r-o*u,width:8,height:l*u},i))return!0}if(n<h-2){var c=n/h;if(St({x:a-t*c,y:r+l-8,width:n*c,height:8},i))return!0}return!1}return!1},Pt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onUp",value:function(e,r,t,n,o,i){var l=this,a=Io(t,r,this),h=a.scrollBarInfo,s=a.translateX,u=a.translateY,c=a.isScrollBarDragging,d=a.rectInfo,g=a.preSelectTreeItem,f=a.handleTagClick,v=a.handleCheck,p=a.accordion,y=a.handleExpand,x=a.loadData,b=a.handleSelect,m=a.multiSelect;if(c)a.isScrollBarDragging=!1;else if(!Rt(h,s,u,n)&&d){for(var w=d.expandIconRects,k=d.checkIconRects,V=d.treeBackRects,C=d.tagRects,_=0,D=C.length;_<D;_++){var T=C[_],I=T.treeItem,S=T.info,R=T.tagRect;if(St(R,n)&&!I.disabled)return f.call(this,I,S),void r.iv()}for(var P=0,A=k.length;P<A;P++){var E=k[P],L=(I=E.treeItem,E.checkIconRect);if(St(L,n)&&!I.disabled)return I.checked=!I.checked,v.call(this,I.checked,I),I._isShowUnCheckAllIcon=!1,I.checkBefore(),I.checkAfter(),void r.iv()}for(var M=function(e,t){var o=w[e],i=o.treeItem,a=o.expandIconRect;if(St(a,n)){if(i._isLoading)return{v:void 0};if(!i.disabled){if(p)i.getSiblings().forEach(function(e){e.expanded=!1});if(i.expanded=!i.expanded,i.expanded&&0===i.children.length)new Promise(function(e){i._isLoading=!0,x.call(l,i,e)}).then(function(e){y.call(l,i.expanded,i),i._isLoading=!1,i.addChildren(e),i.checkAfter(),r.iv()});else y.call(l,i.expanded,i);return r.iv(),{v:void 0}}}},B=0,O=w.length;B<O;B++){var H=M(B);if("object"===(void 0===H?"undefined":Z(H)))return H.v}for(var W=0,F=V.length;W<F;W++){var N=V[W],G=N.treeItem,U=N.backRect;if(St(U,n)&&!G.disabled){G.selected=!G.selected,b.call(this,G.selected,G),m||(a.preSelectTreeItem=G,g&&g!==G&&(g.selected=!1),g!==G||G.selected||delete a.preSelectTreeItem),r.iv();break}}}}},{key:"onMove",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.scrollBarInfo,h=n.translateX,s=n.translateY,u=n.isScrollBarDragging,c=n.rectInfo,d=n.preHoverTreeItem;if(!u)if(Rt(l,h,s,i))d&&(d.disabled&&Lo(o,"default"),d._isHovering=!1,t.iv());else if(c){for(var g=c.treeBackRects,f=0,v=g.length;f<v;f++){var p=g[f],y=p.treeItem,x=p.backRect;if(St(x,i)){d!==y&&(d&&(d._isHovering=!1),n.preHoverTreeItem=y),y.disabled?(Lo(o,"not-allowed"),d!==y&&t.iv()):y._isHovering||(Lo(o,"default"),y._isHovering=!0,t.iv());break}}f===v&&d&&(Lo(o,"default"),d._isHovering=!1,delete n.preHoverTreeItem,t.iv())}}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this),l=n.preHoverTreeItem;l&&(Lo(o,"default"),l._isHovering=!1,delete n.preHoverTreeItem,t.iv())}},{key:"onBeginDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this);n&&(n.isScrollBarDragging=!0),p.apply(this,arguments)}},{key:"onDrag",value:function(e,t,o,i,a,r){y.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,o,i,a,r){x.apply(this,arguments)}},{key:"onScroll",value:function(e,t,o,i,a,r){m.apply(this,arguments)}}]),t}(),At=10,Et=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(s,e,t,o,i){var r=t.getValue("labelFont"),n=t.getColor("labelColor"),u=t.getValue("itemFont"),c=t.getColor("itemColor"),d=t.getValue("itemIconSize"),a=t.getValue("info");if(a){ht.Default.isArray(a)||(a=[a]);var g=e.x,l=e.y,f=(e.width,e.height,0),v=0,p=l;a.forEach(function(e,t){var o=e.label,i=e.datas,h=e.colors;0<t&&(p+=8,f+=8);var a=ho(r,o);f+=a.height,v=a.width,ht.Default.drawText(s,o,r,n,g,p,a.width,a.height,"left"),p+=a.height+2,i.forEach(function(e,t){var o=we(e,2),i=o[0],a=o[1],r=null!=i?i+"ï¼š"+a:a,n=ho(u,r);f+=n.height+2,v=Math.max(v,n.width+d+3);var l=d/2;s.fillStyle=h[t],s.beginPath(),s.moveTo(l,p+l),s.arc(l,p+l,l,0,2*Math.PI),s.fill(),ht.Default.drawText(s,r,u,c,g+3+d,p,n.width,n.height,"left"),p+=n.height+2})}),Et=f,At=v}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}}}]});var Lt=function(e){function o(){u(this,o);var e=d(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(At),e.setHeight(Et),e}return c(o,e),n(o,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===At&&this.getHeight()===Et||(this._tipNode.setWidth(At),this._tipNode.setHeight(Et),this.setWidth(At),this.setHeight(Et),this.fitContent(!1,0))}}]),o}(ht.graph.GraphView),Mt=ht.Default,Bt=Mt.containsPoint,Ot=Mt.unionPoint,Ht=new Lt,Wt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onDown",value:function(e,t,o,i,a,r){}},{key:"onMove",value:function(e,t,o,i,a,r){var n=To(o,t,this),l=Io(o,t,this),h=l.ui,s=l.option;if(s&&s.tooltip.show&&!l._dragging){var u=h.interactiveInfo,c=h.bounds.bodyRect,d={x:i.x+n.rect.x,y:i.y+n.rect.y};if(Bt(c,d)&&u.length){for(var g=h.valueAxis===D?d.y:d.x,f=0,v=1/0,p=0;p<u.length;p++){var y=Math.abs(u[p].position-g);y<v&&(v=y,f=p)}var x=u[f];if(x.axis.length){var b=s.color.slice(0),m=x.axis.map(function(e){return{label:e.label,datas:e.datas,colors:b.splice(0,e.datas.length)}});Ht.setInfo(m),So.show(Ht.getView(),e)}l.hoverIndex!==f&&(l.hoverIndex=f,t.iv())}else delete l.hoverIndex,t.iv(),So.hide()}}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),So.hide())}},{key:"onBeginDrag",value:function(e,t,o,i,a,r){var n=To(o,t,this),l=Io(o,t,this),h=l.option,s=l.ui;if(l&&h.rectSelectable){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),So.hide());var u=s.bounds.bodyRect,c={x:i.x+n.rect.x,y:i.y+n.rect.y};Bt(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,o,i,a,r){var n=To(o,t,this),l=Io(o,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:i.x+n.rect.x,y:i.y+n.rect.y};l.rectPoint2=function(e,t){var o=e.x,i=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,o-1),n=Math.min(n,o+a+1),l=Math.max(l,i-1),l=Math.min(l,i+r+1),{x:n,y:l}}(h,s),t.iv()}}},{key:"onEndDrag",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(n&&n._dragging){var l=n.ui,h=n.option,s=l.rectPoint1,u=l.rectPoint2,c=l.valueAxis,d=h.xAxis,g=h.yAxis,f=Ot(s,u);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};d.forEach(function(e){var t=e.type,o=[];(v.x.push(o),"category"===t)&&l.interactiveInfo.forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&o.push(t)})}),g.forEach(function(e){var t=[];if(v.y.push(t),T===c){var o=we(e.valueRange,2),i=o[0],a=o[1]-i,r=l.bounds.bodyRect;t.push((r.height-f.height-f.y+r.y)/r.height*a+i),t.push((r.height-f.y+r.y)/r.height*a+i)}}),console.log(n,v)}}}]),t}();var Ft=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ke),n(t,[{key:"onUp",value:function(e,t,o,i,a,r){var n=Io(o,t,this);if(!n.disabled){var l=Bo(this,"value");0<i.x&&i.x<a&&0<i.y&&i.y<r&&function(e,t,o,i){var a=o.dropDown;a||(e.getFormat=function(){return e.a(V.FORMAT)},a=new it(e,t,o,i),o.dropDown=a),a.open()}(t,o,n,"a@"+l)}}}]),t}(),Nt=ht.Default.setImage;Nt("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),Nt("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]});var Gt=function(){function e(){u(this,e),(this._container=document.createElement("div")).className="ht-vector-tooltip"}return n(e,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:this._container.appendChild(e),document.body.appendChild(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),o=ht.Default.getWindowInfo(),i=(this._container.style,(e.clientX||e.pageX)+8),a=(e.clientY||e.pageY)+8;i=Math.max(0,i),a=Math.max(0,a),i+t.width>o.width&&(i=o.width-t.width),a+t.height>o.height&&(a=o.height-t.height),this._container.style.left=i+"px",this._container.style.top=a+"px"}},{key:"hide",value:function(){this._container.parentNode===document.body&&document.body.removeChild(this._container)}}]),e}(),Ut={show:!0,type:"value",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},Yt={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},jt=ht.Default,Xt=jt.isArray,zt=jt.clone,Kt=function(i,a){return(i=Xt(i)?i.slice(0):[i]).forEach(function(e,t){var o=zt(a);Eo(o,e),i[t]=o}),i},Zt=function(x,b){var m=[],w=0;x.yAxis.forEach(function(e,t){var o=e.valueRange=function(e,t,o,i){var a=e.max,r=e.min,n=void 0,l=(e.axisLabel.interval,[]);o.forEach(function(e){((i===T?e.yAxisIndex:e.xAxisIndex)||0)===t&&(l=l.concat(e.data))});var h=Math.max.apply(this,l);if(10<h){for(var s=1,u=h/s;100<=parseInt(u);)u=h/(s*=10);for(u=Math.ceil(u)*s;u%6!=0||u/6%s!=0;)u+=s;h=u,Ao(a)&&(a=u),n=h/6}else 4<(n=h/6).toString()&&(n=parseFloat(n.toFixed(2)));Ao(r)&&0<=Math.min.apply(this,l)&&(r=0);return[r,a,n]}(e,t,x.series,b.valueAxis);e.show||m.push(2);var i=we(o,3),a=i[0],r=i[1],n=a.toString().length>r.toString().length?a.toString():r.toString(),l=e.axisTick.show?e.axisTick.length:0,h=e.axisLabel.rotate;if(h){h=Math.max(-45,h),h=Math.min(45,h);var s=ho(e.axisLabel.font,n),u=new ht.Math.Vector2(0,0),c=new ht.Math.Vector2(s.width,0),d=new ht.Math.Vector2(s.width,s.height),g=new ht.Math.Vector2(0,s.height),f=new ht.Math.Vector2(s.width/2,s.height/2),v=Math.PI*(h/180);u.rotateAround(f,v),c.rotateAround(f,v),d.rotateAround(f,v),g.rotateAround(f,v);var p=ht.Default.unionPoint([u,c,d,g]);w=Math.max(w,p.height/2),m.push(p.width+4+l)}else{var y=ho(e.axisLabel.font,n);w=Math.max(w,y.height/2),m.push(y.width+4+l)}}),b.contentRect.y+=w+2,b.contentRect.height-=w-2,b.yAxisWidths=m},$t=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],qt=ht.Default,Jt=qt.clone,Qt=qt.unionPoint;function eo(e,t,o,i,a){for(var r={x:o*Math.cos(e),y:o*Math.sin(e)},n={x:o*Math.cos(t),y:o*Math.sin(t)},l=t-e,h=a+a,s=h+Math.PI/2,u=s+Math.PI/2,c=u+Math.PI/2,d=[{x:o*Math.cos(h),y:o*Math.sin(h)},{x:o*Math.cos(s),y:o*Math.sin(s)},{x:o*Math.cos(u),y:o*Math.sin(u)},{x:o*Math.cos(c),y:o*Math.sin(c)}],g=[r,n,{x:i*Math.cos(e),y:i*Math.sin(e)},{x:i*Math.cos(t),y:i*Math.sin(t)}],f=0;f<4;f++){var v=d[f],p={x:r.x-0,y:r.y-0},y={x:v.x-0,y:v.y-0},x=(p.x*y.x+p.y*y.y)/(Math.pow(Math.pow(p.x,2)+Math.pow(p.y,2),.5)*Math.pow(Math.pow(y.x,2)+Math.pow(y.y,2),.5)),b=Math.acos(x);0<p.x*y.y-y.x*p.y?b<l&&g.push(v):2*Math.PI-b<l&&g.push(v)}for(var m=-1/0,w=1/0,k=0,V=g.length;k<V;k++){var C=g[k].y;m=Math.max(m,C),w=Math.min(w,C)}return{minY:w,maxY:m}}var to,oo,io,ao=new Lt,ro=function(e,t,o,i,a){if(a.getValue){var r=Io(o,t,a),n=a.getValue("hoverOffset"),l=a.getValue("tooltip"),h=r.arcPoints,s=r.arcAngles,u=r.center,c=r.radius,d=r.pieDataPct,g=r.rect,f=r.foucusArcNum;if(i={x:i.x+g.x,y:i.y+g.y},h){var v=u.x,p=u.y,y=c.outerRadius,x=c.innerRadius,b=ht.Default.getDistance(i,u);if(x<b&&b<(void 0!==f?y+n:y))for(var m=0,w=s.length;m<w;m++){var k=h[m],V={x:k.x-v,y:k.y-p},C={x:i.x-v,y:i.y-p},_=(V.x*C.x+V.y*C.y)/(Math.pow(Math.pow(V.x,2)+Math.pow(V.y,2),.5)*Math.pow(Math.pow(C.x,2)+Math.pow(C.y,2),.5)),D=Math.acos(_);if(0<V.x*C.y-C.x*V.y){if(D<s[m]){f!=m&&(r.foucusArcNum=m,t.iv());break}}else if(2*Math.PI-D<s[m]){f!=m&&(r.foucusArcNum=m,t.iv());break}}else void 0!==f&&(delete r.foucusArcNum,t.iv())}if(l.show){var T=r.foucusArcNum;if(void 0!==T){var I=a.getValue("seriesName"),S=a.getValue("pieData")[T],R=l.formatter,P=[],A=[],E=$t.length;if(R)Wo({seriesName:I,name:S.name,value:S.value,pct:d[T],formatter:R}).labelTextArray.forEach(function(e,t){P.push([null,e]),A.push($t[t%E])});else P=[["åç§°",S.name],["ç™¾åˆ†æ¯”",(100*d[T]).toFixed(1)+"%"],["æ•°å€¼",S.value]],A=["red","green","pink"];ao.setInfo({label:I,datas:P,colors:A}),So.show(ao.getView(),e)}else So.hide()}}},no=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,Ge),n(t,[{key:"onMove",value:function(e,t,o,i,a,r){ro(e,t,o,i,this)}},{key:"onUp",value:function(e,t,o,i,a,r){ro(e,t,o,i,this)}},{key:"onLeave",value:function(e,t,o,i,a,r){var n=Io(o,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),So.hide())}}]),t}(),lo=/firefox/.test(window.navigator.userAgent.toLowerCase()),ho=(to={},oo=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){oo.font=e||ht.Default.labelFont;var o=to[oo.font];return o||(o=2*oo.measureText("e").width,to[oo.font]=o),{width:oo.measureText(t).width+2,height:o}}),so=function(e,t){if(!e)return uo([],t);var o=function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/^\s+|\s+$/g,"")):""}(e).split(/\s+/g),i=[];return o.forEach(function(e){isNaN(e)||i.push(parseInt(e))}),uo(i)},uo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[t,t,t,t]},co=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),o=t.style;return o.display="block",o.boxSizing="border-box",o.position="absolute",o.outline="none",o.zIndex=1e4,o.borderWidth=0,o.backgroundColor="rgba(0, 0, 0, 0)",t},go=function(e,t,o){var i=t.style,a=o.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(o.matrix),fo(i,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),fo(i,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},fo=((io=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,o){var i=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+i]=o,e["moz"+i]=o,e["ms"+i]=o,e["o"+i]=o,e[t]=o}),vo=function(e,t,o){for(var i=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);ho(o,l).width>t&&(a=r-1===a?(i.push(e.substring(a,r)),r):(i.push(e.substring(a,r-1)),r-1))}return a!==r-1&&i.push(e.substring(a,r)),i},po=function(e,t,o,i){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),i)Array.prototype.push.apply(a,vo(h,o,t));else{for(var s,u,c="",d=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?c+="1":c+="2"}c=(c=c.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var y=0;y<c.length;y++){c.charAt(y).match(/\_/g)&&(h=yo(h,y+1,"|"))}s=h.split("|"),u=c.split("_");for(var x=0,b=s.length;x<b;x++)d=v+s[x],g=ho(t,d),"1"===u[x][0]?g.width>o?v?(a.push(v),v="",x--):(f=vo(s[x],o,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===o?(a.push(d),""):d:v=g.width>o?(f=vo(d,o,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):d;v&&a.push(v)}}return a},yo=function(e,t,o){return e=e.substring(0,t-1)+o+e.substring(t-1,e.length)},xo=function(e,t,o,i,a,r){return e?(t&&(t=new v(t)),e.pressed?i||(a&&t&&0!==t.a?ht.Default.darker(t,ke.activeDarker):r?null:ke.emptyColor):e.hover?o||(a&&t&&0!==t.a?ht.Default.darker(t,ke.hoverDarker):r?null:ke.emptyColor):r?null:t?t.getRGBA():ke.emptyColor):t};function bo(e,t){var o=e.prototype,i=ht.Default.getMSMap();for(var a in t)i[a]&&i.hasOwnProperty(a)?i[a](o,t):o[a]=t[a]}function mo(e){var t=e.a(V.VALUE);return void 0===t?"":t}var wo,ko,Vo=(wo=null,ko=function(e,t,o){"binaryString"===o?e.readAsBinaryString(t):"ArrayBuffer"===o?e.readAsArrayBuffer(t):"dataUrl"===o?e.readAsDataURL(t):e.readAsText(t)},function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;wo||((wo=document.createElement("input")).setAttribute("type","file"),wo.setAttribute("id","hiddenFile"),wo.style.width=0,wo.style.height=0,wo.addEventListener("change",function(e){document.body.removeChild(wo),wo=null;for(var t=e.target.files,o={files:[]},i=0;i<t.length;i++)s?s(t[i])&&o.files.push(t[i]):o.files.push(t[i]);if(h&&0!==o.files.length)if(l){var a=0;o.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===o.files.length&&n(o)},ko(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(o)},ko(r,t[0],h)}else n(o)}),document.body.appendChild(wo)),wo.multiple=!!l,wo.accept=t||"",wo.click()}),Co=function(e,t){for(var o=[],i=0,a=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),u=[];1<s?a+=s:i+=s,u.push(s),1<(s=parseFloat(h[1]))?(a+=s,u.unshift(s)):(i+=s,u.push(s)),o.push(u)}else 1<=(r=parseFloat(r))?a+=r=Math.max(12,r):i+=r,o.push(r);for(n=0,l=o.length;n<l;n++)(r=o[n])<1?o[n]=Math.max(0,r/i*(t-a)):r instanceof Array&&(o[n]=r[0]+Math.max(0,r[1]/i*(t-a)));return o},_o=function(e){var t=we(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},Do=function(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null},To=function(e,t,o){var i=function(e,t,o){if(!e||!e.interactiveInfo)return null;if(o){var i=void 0;return"billboard"===t.s("shape3d")&&(i=t.s("shape3d.image")),i&&e.interactiveInfo[i]?e.interactiveInfo[i].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(Do(e,t),t,e instanceof ht.graph3d.Graph3dView);if(i)for(var a=0,r=i.length;a<r;a++){var n=i[a];if(n.comp===o)return n}return null},Io=function(e,t,o){var i=Do(e,t);if(i){if(i.vectorInfos){for(var a=i.vectorInfos,r=0;r<a.length;r++)if(a[r].comp===o)return a[r]}else i.vectorInfos=[];var n={comp:o};return i.vectorInfos.push(n),n}},So=new Gt,Ro=function(e,t,o,i,a){i&&(i.editing=!1,delete i.dom),a&&e.a(a,o.value),e.iv(),t.getView().removeChild(o)},Po=function(e){return null==e||""===e},Ao=function(e){return null==e},Eo=function e(t,o,i){for(var a in o){var r=o[a];"object"!==(void 0===r?"undefined":Z(r))||ht.Default.isArray(r)||i?t[a]=o[a]:e(t[a],o[a])}},Lo=function(e,t){e.getView().style.cursor=t},Mo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t%=e.length]},Bo=function(e,t,o,i){var a=e[t];if(a&&a.func&&"string"==typeof a.func){var r=a.func.split("@"),n=we(r,2);n[0];return n[1]}return null},Oo=function(e,t){var o,i,a,r;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}if(r=Math.abs(o-i),a=Math.pow(10,Math.max(o,i)),0<r){var n=Math.pow(10,r);t=i<o?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},Ho=function(e,t){var o,i,a;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}return((e*(a=Math.pow(10,Math.max(o,i)))-t*a)/a).toFixed(i<=o?o:i)},Wo=function(e){var o=e.name,i=e.value,a=e.pct,t=e.font,r=e.formatter,n=e.seriesName,l=o;r&&(l=(r=r.replace(/\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?n:"b"===t?o:"c"===t?i:"d"===t?(100*a).toFixed(1)+"%":e}));var h=l.split("<br>"),s=void 0,u=void 0;return t&&(u=(s=ho(t,"e").height+1)*h.length/2),{labelTextArray:h,textHeight:s,beginHeight:u}},Fo=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},No=function(e,t,o){var i=To(o,t,e).rect,a=t.getAnchor(),r=t.getWidth(),n=t.getHeight(),l=t.toGlobal({x:i.x-a.x*r,y:i.y-a.y*n}),h=t.toGlobal({x:i.x+i.width-a.x*r,y:i.y+i.height-a.y*n});return function(e,t){var o=t.getView().getBoundingClientRect(),i=t.getZoom(),a=t.tx(),r=t.ty(),n={};return n.height=e.height*i,n.width=e.width*i,n.x=o.left+a+e.x*i,n.y=o.top+r+e.y*i,n}(ht.Default.unionPoint(l,h),o)},Go=function(e,t,o){if(!e||!e.func)return e;var i,a=e.func,r=e.value;return i=ht.Default.isFunction(a)?o&&o.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,o):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](o):r:r,void 0!==r&&null==i?r:i},Uo=function(e,t){var o=t.borderWidth,i=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,h=t.bgGradientColor,s=t.contentRect;if(a&&e.setLineDash(r),n){var u;if(l&&h)n=(u=ht.Default).createGradient.apply(u,[e,l,n,h].concat(Ve(s)));e.fillStyle=n,e.fill()}o&&i&&(e.strokeStyle=i,e.lineWidth=o,e.stroke())},Yo=function(e,t,o,i){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=o,e.beginPath(),ht.Default.drawRoundRect(e,a,r,n,l,i),e.closePath(),e.fill()},jo=function(e,t,o,i){var a=To(e,t,o);return{x:i.x+a.rect.x,y:i.y+a.rect.y}},Xo={comp:{button:function(e,t,o,i,a){var r=o.getValue("text"),n=o.getValue("disabled"),l=o.getValue("font"),h=o.getValue("icon"),s=o.getValue("iconPosition"),u=o.getValue("iconWidth"),c=o.getValue("iconHeight"),d=o.getValue("iconGap"),g=o.getColor("iconColor"),f=o.getColor("hoverIconColor"),v=o.getColor("activeIconColor"),p=o.getColor("textColor"),y=o.getColor("hoverTextColor"),x=o.getColor("activeTextColor"),b=o.getColor("disabledTextColor"),m=o.getValue("borderWidth"),w=o.getColor("borderColor"),k=o.getColor("hoverBorderColor"),V=o.getColor("activeBorderColor"),C=o.getColor("disabledBorderColor"),_=o.getColor("background"),D=o.getColor("hoverBackground"),T=o.getColor("activeBackground"),I=o.getColor("disabledBackground"),S=o.getValue("borderRadius"),R=o.getValue("handleClick"),P=Io(a,i,o),A=uo(J),E=(we(A,4),so(S)),L=we(E,4),M=L[0],B=L[1],O=L[2],H=L[3],W=t.x,F=t.y,N=t.width,G=t.height;if(n?(_=I,w=C,p=b,m||(m=1)):(_=xo(P,_,D,T,!0),w=xo(P,w,k,V,!0),g=xo(P,g,f,v,!1,!0),p=xo(P,p,y,x,!0)),e.fillStyle=_,e.beginPath(),ht.Default.drawRoundRect(e,W,F,N,G,M,B,H,O),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!h&&r)K(e,r,l,p,W,F,N,G,"center","middle");else if(h&&!r)$(e,q(h),"uniform",W+.5*(N-u),F+.5*(G-c),u,c,i,a,g);else if(h&&r){var U=ho(l,r),Y=void 0,j=void 0;if(ne===s||le===s){var X=F+.5*(G-c-U.height-d);Y={x:W,height:U.height,width:N},j={x:W+.5*(N-u),width:u,height:c},ne===s?(Y.y=X+c+d,j.y=X):le===s&&(Y.y=X,j.y=X+U.height+d)}else{var z=W+.5*(N-u-U.width-d);Y={width:U.width,y:F,height:G},j={y:.5*(G-c),width:u,height:c},he===s?(Y.x=z,j.x=z+U.width+d):(Y.x=z+u+d,j.x=z)}K(e,r,l,p,Y.x,Y.y,Y.width,Y.height,"center","middle"),$(e,q(h),"uniform",j.x,j.y,j.width,j.height,i,a,g)}P&&(P.disabled=n,P.onClick=R)},input:function(e,t,o,i,a){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getColor("placeholderColor"),h=o.getValue("disabled"),s=o.getValue("borderWidth"),u=o.getColor("borderColor"),c=o.getColor("focusBorderColor")||u,d=o.getValue("borderRadius"),g=o.getValue("padding"),f=o.getColor("background"),v=o.getColor("focusBackground")||f,p=o.getValue("icon"),y=o.getValue("iconWidth"),x=o.getValue("iconHeight"),b=o.getValue("iconAlign"),m=o.getValue("font"),w=o.getValue("textAlign"),k=o.getColor("textColor"),V=o.getValue("maxLength"),C=o.getValue("inputType"),_=o.getValue("enterEndInputable"),D=o.getValue("onKeyDown"),T=o.getValue("onKeyUp"),I=o.getValue("onChange"),S=o.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",R=Io(a,i,o),P=R&&R.editing,A=R&&R.editingValue,E=so(g),L=we(E,4),M=L[0],B=L[1],O=L[2],H=L[3],W=so(d),F=we(W,4),N=F[0],G=F[1],U=F[2],Y=F[3],j=t.x,X=t.y,z=t.width,K=t.height,Z=void 0;if(i&&P?(Z=v,u=c):Z=f,e.beginPath(),ht.Default.drawRoundRect(e,j,X,z,K,N,G,Y,U),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||P&&s&&c)&&(e.strokeStyle=P?c:u,e.lineWidth=s,e.stroke()),!A||!P){var $=!r&&n,q=r||n||"",J=r?k:l,Q=Math.max(0,z-H-B),ee=Math.max(0,K-M-O),te=j+H,oe=X+M;P&&(q=n||"",J=l),q&&(e.save(),e.beginPath(),e.rect(te,oe,Q,ee),e.clip(),!$&&i&&"password"===C&&(q=function(){for(var e="",t=0;t<q.length;t++)e+="â€¢";return e}()),re(e,q,m,J,te,X+1,Q,K,w,"middle"),e.restore())}if(p){var ie=void 0;ie="left"===b?j:"center"===b?j+.5*(z-y):j+z-y,ce(e,de(p),"uniform",ie,.5*(K-x),y,x,i,a)}if(h){var ae=s/2;e.beginPath(),ht.Default.drawRoundRect(e,j-ae,X-ae,z+s,K+s,N,G,Y,U),e.fillStyle=S,e.closePath(),e.fill()}R&&(R.disabled=h,R.font=m,R.value=r,R.placeholder=n,R.textAlign=w,R.maxLength=V,R.textColor=k,R.inputType=C,R.enterEndInputable=_,R.onKeyUp=T,R.onKeyDown=D,R.onChange=I,R.padding=g,R.selectTextOnFocus=o.getValue("selectTextOnFocus"))},inputNumber:function(e,t,o,i,a){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getColor("placeholderColor"),h=o.getColor("min"),s=o.getColor("max"),u=o.getColor("step"),c=o.getValue("disabled"),d=o.getValue("borderWidth"),g=o.getColor("borderColor"),f=o.getColor("focusBorderColor")||g,v=o.getValue("borderRadius"),p=o.getValue("padding"),y=o.getColor("background"),x=o.getColor("focusBackground")||y,b=o.getValue("icon"),m=o.getValue("iconWidth"),w=o.getValue("iconHeight"),k=o.getValue("iconAlign"),V=o.getValue("font"),C=o.getValue("textAlign"),_=o.getColor("textColor"),D=o.getValue("maxLength"),T=o.getValue("enterEndInputable"),I=o.getValue("buttonVisible"),S=o.getValue("onKeyDown"),R=o.getValue("onKeyUp"),P=o.getValue("onChange"),A=o.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",E=Io(a,i,o),L=E&&E.editing,M=E&&E.editingValue,B=so(p),O=we(B,4),H=O[0],W=O[1],F=O[2],N=O[3],G=so(v),U=we(G,4),Y=U[0],j=U[1],X=U[2],z=U[3],K=t.x,Z=t.y,$=t.width,q=t.height,J=void 0;if(i&&L?(J=x,g=f):J=y,e.beginPath(),ht.Default.drawRoundRect(e,K,Z,$,q,Y,j,z,X),e.closePath(),J&&(e.fillStyle=J,e.fill()),(d&&g||L&&d&&f)&&(e.strokeStyle=L?f:g,e.lineWidth=d,e.stroke()),!M&&0!==M||!L){var Q=r||n||"",ee=r?_:l,te=Math.max(0,$-N-W),oe=Math.max(0,q-H-F),ie=K+N,ae=Z+H;L&&(Q=n||"",ee=l),Q&&(e.save(),e.beginPath(),e.rect(ie,ae,te,oe),e.clip(),He(e,Q,V,ee,ie,Z+1,te,q,C,"middle"),e.restore())}if(I){var re=K+$-20,ne=Z+d/2,le=q-d,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+he),e.lineTo(10+re,ne+le/4-he),e.lineTo(14+re,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-he),e.lineTo(10+re,ne+le/4*3+he),e.lineTo(14+re,ne+le/4*3-he),e.stroke(),E&&(E.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(b){var se=void 0;se="left"===k?K:"center"===k?K+.5*($-m):K+$-m,We(e,Fe(b),"uniform",se,.5*(q-w),m,w,i,a)}if(c){var ue=d/2;e.beginPath(),ht.Default.drawRoundRect(e,K-ue,Z-ue,$+d,q+d,Y,j,z,X),e.fillStyle=A,e.closePath(),e.fill()}E&&(E.disabled=c,E.font=V,E.value=r,E.placeholder=n,E.textAlign=C,E.maxLength=D,E.textColor=_,E.enterEndInputable=T,E.onKeyUp=R,E.onKeyDown=S,E.onChange=P,E.padding=p,E.step=u,E.min=h,E.max=s,E.selectTextOnFocus=o.getValue("selectTextOnFocus"))},textarea:function(t,e,o,i,a){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getColor("placeholderColor"),h=o.getValue("disabled"),s=o.getValue("borderWidth"),u=o.getColor("borderColor"),c=o.getColor("focusBorderColor"),d=o.getValue("borderRadius"),g=o.getValue("padding"),f=o.getColor("background"),v=o.getColor("focusBackground")||f,p=o.getValue("textAlign"),y=o.getColor("textColor"),x=o.getValue("lineHeight"),b=o.getValue("font"),m=o.getValue("wordBreak"),w=o.getValue("maxLength"),k=o.getValue("enterEndInputable"),V=o.getValue("onKeyUp"),C=o.getValue("onKeyDown"),_=o.getValue("onChange"),D=o.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",T=Io(a,i,o),I=T&&T.editing,S=T&&T.editingValue,R=so(g),P=we(R,4),A=P[0],E=P[1],L=P[2],M=P[3],B=so(d),O=we(B,4),H=O[0],W=O[1],F=O[2],N=O[3],G=e.x,U=e.y,Y=e.width,j=e.height,X=void 0;if(i&&I?(X=v,u=c):X=f,t.beginPath(),ht.Default.drawRoundRect(t,G,U,Y,j,H,W,N,F),t.closePath(),X&&(t.fillStyle=X,t.fill()),(s&&u||I&&s&&c)&&(t.strokeStyle=I?c:u,t.lineWidth=s,t.stroke()),!S||!I){var z=r||n||"",K=r?y:l,Z=Math.max(0,Y-M-E),$=Math.max(0,j-A-L);if(I&&(z=n||"",K=l),z){t.save(),t.beginPath(),t.rect(G+M,U+A,Z,$),t.clip();var q=po(z,b,Z,m),J=U+A;q.forEach(function(e){U+j<J||(ee(t,e,b,K,G+M,J,Z,x,p,"middle"),J+=x)}),t.restore()}}if(h){var Q=s/2;t.beginPath(),ht.Default.drawRoundRect(t,G-Q,U-Q,Y+s,j+s,H,W,N,F),t.fillStyle=D,t.closePath(),t.fill()}T&&(T.disabled=h,T.font=b,T.value=r,T.placeholder=n,T.textAlign=p,T.maxLength=w,T.textColor=y,T.enterEndInputable=k,T.padding=g,T.wordBreak=m,T.onKeyUp=V,T.onKeyDown=C,T.onChange=_,T.lineHeight=x,T.selectTextOnFocus=o.getValue("selectTextOnFocus"))},radio:function(e,t,o,i,a){var r=o.getValue("disabled"),n=o.getValue("checked"),l=o.getColor("normalColor"),h=o.getColor("background"),s=o.getColor("activeColor"),u=o.getColor("disabledColor"),c=o.getColor("disabledBackground"),d=Io(a,i,o),g=n?s:l,f=t.x,v=t.y,p=t.width,y=t.height,x=Math.min(p,y);i&&(r?(g=u,h=c):i.a(V.PRESSED)?n?g=ht.Default.darker(g,ke.activeDarker):h=ht.Default.darker(h,ke.activeDarker):i.a(V.HOVER)&&(n?g=ht.Default.darker(g,ke.hoverDarker):h=ht.Default.darker(h,ke.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*y,.25*x,0,2*Math.PI),e.fill()),i&&!i.a(V.INPUT_TYPE)&&i.a(V.INPUT_TYPE,b),d&&(d.disabled=r,d.onChange=o.getValue("onChange"),d.group=o.getValue("group"),d.value=o.getValue("value"))},checkbox:function(e,t,o,i,a){var r=o.getValue("checked"),n=o.getValue("disabled"),l=o.getColor("borderColor"),h=o.getColor("activeBorderColor"),s=o.getColor("disabledBorderColor"),u=o.getColor("background"),c=o.getColor("activeBackground"),d=o.getColor("disabledBackground"),g=o.getValue("borderRadius"),f=o.getColor("iconColor"),v=o.getColor("disabledIconColor"),p=Io(a,i,o),y=t.x,x=t.y,b=t.width,m=t.height,w=Math.min(b,m);u=r?c:u,u=n?(l=s,f=v,d):xo(i,u,null,null,!0),r&&!n&&(l=h),m<b?y+=.5*(b-m):b<m&&(x+=.5*(m-b)),e.beginPath(),ht.Default.drawRoundRect(e,y,x,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(y+.125*w,x+.5*w),e.lineTo(y+w*(3/8),x+.75*w),e.lineTo(y+.8125*w,x+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),i&&!i.a(V.INPUT_TYPE)&&i.a(V.INPUT_TYPE,k),p&&(p.disabled=n,p.checked=r,p.onChange=o.getValue("onChange"),p.group=o.getValue("group"),p.value=o.getValue("value"))},colorPicker:function(e,t,o,i,a){var r=o.getValue("disabled"),n=o.getValue("borderWidth"),l=o.getValue("borderColor"),h=o.getValue("disabledBorderColor"),s=o.getValue("focusBorderColor"),u=o.getValue("borderRadius"),c=o.getValue("textColor"),d=o.getValue("value"),g=o.getValue("font"),f=o.getValue("fullMode"),v=o.getValue("showDropDownIcon"),p=o.getValue("dropDownIcon"),y=o.getValue("dropDownIconColor"),x=o.getValue("dropDownIconWidth"),b=o.getValue("dropDownIconHeight"),m=o.getValue("onChange"),w=Io(a,i,o),k=so(u),V=we(k,4),C=V[0],_=V[1],D=V[2],T=V[3],I=t.x,S=t.y,R=t.width,P=t.height,A=I+R+5,E=S+P+5,L=!1,M=void 0;if(r?l=c=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),ht.Default.drawRoundRect(e,I,S,R,P,C,_,T,D),e.closePath(),e.clip();for(var B=S,O=0;B<E;B+=5,O++){L=O%2!=0;for(var H=I;H<A;H+=5)e.fillStyle=L?z:X,e.fillRect(H,B,5,5),L=!L}}else{A=(M={x:I+4,y:S+4,width:1.66*(P-8),height:P-8}).x+M.width,E=M.y+M.height,e.beginPath(),e.rect(M.x,M.y,M.width,M.height),e.closePath(),e.clip();for(var W=M.y,F=0;W<E;W+=5,F++){L=F%2!=0;for(var N=M.x;N<A;N+=5)e.fillStyle=L?z:X,e.fillRect(N,W,5,5),L=!L}}e.restore(),e.beginPath(),ht.Default.drawRoundRect(e,I,S,R,P,C,_,T,D),e.closePath(),d&&f?(e.fillStyle=d,e.fill()):d&&!f&&(e.fillStyle=d,e.fillRect(M.x,M.y,M.width,M.height),Q.setColor(d),G(e,Q,g,c,M.x+M.width+4,S,R-M.width-8,P,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&Y(e,j(p||"ht.vector.dropDownIcon"),"uniform",I+R-8-x,S+.5*(P-b),x,b,i,a,y),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,o,i,a){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getValue("dataSource"),h=o.getValue("disabled"),s=o.getValue("borderWidth"),u=o.getValue("borderColor"),c=o.getValue("disabledBorderColor"),d=o.getValue("focusBorderColor"),g=o.getValue("borderRadius"),f=o.getValue("padding"),v=o.getValue("background"),p=o.getValue("disabledBackground"),y=o.getValue("focusBackground")||v,x=o.getValue("icon"),b=o.getValue("iconWidth"),m=o.getValue("iconHeight"),w=o.getValue("iconAlign"),k=o.getValue("font"),V=o.getValue("textAlign"),C=o.getValue("textColor"),_=o.getValue("disabledTextColor"),D=o.getValue("dropDownIcon"),T=o.getValue("dropDownIconColor"),I=o.getValue("dropDownIconWidth"),S=o.getValue("dropDownIconHeight"),R=o.getValue("drawUnMatchValue"),P=Io(a,i,o),A=P&&P.editing,E=so(f),L=we(E,4),M=L[0],B=L[1],O=L[2],H=L[3],W=so(g),F=we(W,4),N=F[0],G=F[1],U=F[2],Y=F[3],j=t.x,X=t.y,z=t.width,K=t.height,Z=void 0;i?h?(Z=p,u=c,C=_,s||(s=1)):A?(Z=y,u=d):Z=v:Z=v,e.beginPath(),ht.Default.drawRoundRect(e,j,X,z,K,N,G,Y,U),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||A&&s&&d)&&(e.strokeStyle=A?d:u,e.lineWidth=s,e.stroke());var $="";if(R)$=r;else if(!Ao(r)&&l)for(var q=0,J=l.length;q<J;q++)if(l[q].value===r){$=l[q].label,x=l[q].icon;break}$||(x=null,Ao(r)||($=r+""));var Q=$||n||"",ee=Math.max(0,z-H-B),te=Math.max(0,K-M-O),oe=j+H,ie=X+M;if(Ao(r)&&!h&&(C=ke.placeholderColor),e.save(),e.beginPath(),e.rect(oe,ie,ee,te),e.clip(),ge(e,Q,k,C,x?oe+b:oe,ie,ee,te,V,"middle"),e.restore(),x){var ae=void 0;ae="left"===w?oe:"center"===w?j+.5*(z-b):j+z-b-B,fe(e,ve(x),"uniform",ae,.5*(K-m),b,m,i,a)}fe(e,ve(D||"ht.vector.dropDownIcon"),"uniform",j+z-8-I,X+.5*(K-S),I,S,i,a,T),P&&(P.disabled=h,P.dataSource=l,P.dropIconWidth=o.getValue("dropIconWidth"),P.dropIconHeight=o.getValue("dropIconHeight"),P.dropRowHeight=o.getValue("dropRowHeight"),P.dropWidth=o.getValue("dropWidth"),P.dropBackground=o.getValue("dropBackground"),P.dropLabelFont=o.getValue("dropLabelFont"),P.dropLabelColor=o.getValue("dropLabelColor"),P.dropActiveLabelColor=o.getValue("dropActiveLabelColor"),P.dropActiveBackground=o.getValue("dropActiveBackground"),P.dropHoverBackground=o.getValue("dropHoverBackground"),P.dropMaxHeight=o.getValue("dropMaxHeight"),P.onChange=o.getValue("onChange"))},gauge:function(e,t,o,i,a){var r=o.getValue("pointerRadius"),n=o.getColor("pointerColor"),l=o.getValue("value"),h=o.getValue("max"),s=o.getValue("showTick"),u=o.getValue("tickEvery"),c=o.getColor("tickColor"),d=o.getValue("tickWidth"),g=(o.getValue("tickRadius"),o.getValue("bigTickEvery")),f=o.getColor("bigTickColor"),v=o.getValue("bigTickWidth"),p=(o.getValue("bigTickRadius"),o.getValue("showLabel")),y=o.getValue("labelEvery"),x=o.getColor("labelColor"),b=o.getValue("labelFont"),m=o.getValue("labelRadius"),w=o.getValue("showShadow"),k=o.getValue("shadowBlur"),V=o.getColor("shadowColor"),C=o.getValue("shadowOffsetX"),_=o.getValue("shadowOffsetY");ye=o.getValue("clockwise"),xe=o.getValue("min"),ae=o.getValue("startAngle"),pe=o.getValue("endAngle"),oe=Math.abs(h-xe),ie=Math.abs(pe-ae);var D=t.x,T=t.y,I=t.width,S=t.height,R=Math.min(I,S)/2,P=be(l,ye);if(e.save(),w&&(e.shadowColor=V,e.shadowBlur=k,e.shadowOffsetX=C,e.shadowOffsetY=_),e.translate(D+.5*I,T+.5*S),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var A=xe;A<=h;A+=g){var E=be(A,ye),L=R*Math.cos(E),M=R*Math.sin(E);e.moveTo(.84*L,.84*M),e.lineTo(L,M)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=c,e.lineWidth=d;for(var B=xe;B<=h;B+=u){var O=be(B,ye),H=R*Math.cos(O),W=R*Math.sin(O);e.moveTo(.9*H,.9*W),e.lineTo(H,W)}e.stroke()}}if(p&&y){m=te(m,R),e.font=b,e.fillStyle=x,e.textAlign="center",e.textBaseline="middle";for(var F=xe;F<=h;F+=y){var N=be(F,ye),G=m*Math.cos(N),U=m*Math.sin(N);e.fillText(F,G,U)}}var Y=.05*(r=te(r,R));e.rotate(P),e.beginPath(),e.moveTo(-1.5*Y,0),e.lineTo(0,-Y),e.lineTo(r,0),e.lineTo(0,Y),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(f,v,a,p,y){var r,o=a.getValue("columns"),e=a.getValue("dataSource"),t=a.getColor("thBackground"),i=a.getColor("tdBackground"),n=a.getValue("thHeight"),l=a.getValue("tdHeight"),x=a.getValue("textLineHeight"),h=a.getColor("thColor"),b=a.getColor("tdColor"),s=a.getValue("thFont"),m=a.getValue("tdFont"),w=a.getValue("borderWidth"),u=a.getColor("borderColor"),c=a.getColor("columnLineColor"),k=a.getValue("columnLineWidth"),d=a.getColor("rowLineColor"),V=a.getValue("rowLineWidth"),C=a.getValue("showHeadRowLine"),_=a.getValue("cellPadding"),D=a.getValue("showHead"),T=a.getColor("hoverBackground"),I=a.getColor("hoverColor"),S=a.getColor("selectBackground"),R=a.getColor("selectColor"),P=a.getValue("translateY")||0,A=a.getValue("translateX")||0,g=a.getValue("scrollable"),E=a.getValue("autoHideScrollBar"),L=a.getColor("scrollBarColor"),M=a.getValue("scrollBarWidth"),B=a.getValue("scrollBarWidthAbsolute"),O=a.getValue("drawRow"),H=a.getValue("multiple"),W=a.getValue("onSelectRow"),F=a.getValue("onHoverCell"),N=a.getValue("onClickCell"),G=a.getValue("selectedIndex")||[],U=a.getValue("visibleFunc"),Y=a.getValue("columnVisibleFunc"),j=Io(y,p,a),X=v.x,z=v.y,K=v.width,Z=v.height,$=K-2*w,q=Z-2*w,J=void 0,Q=[],ee=[],te=[],oe=[];if(D&&(J=[X+w,z+w,$,n]),r=[X+w,z+n*D+w,K,q-n*D],t&&D&&(f.fillStyle=t,f.fillRect.apply(f,Ve(J))),i&&(f.fillStyle=i,f.fillRect.apply(f,Ve(r))),o&&0<o.length){if(o.forEach(function(e,t){(Y&&Y(e,t,p,y)||!Y)&&(te.push(e),oe.push(t))}),!te.length)return;var ie=te.length,ae=Co(te,$-k*(ie-1)),re=e.length,ne=[],le=X+w+A;if(D)for(var he=0;he<ie;he++){var se=te[he],ue=ae[he]-2*_,ce=se.headColor||se.color||h;"function"==typeof ce&&(ce=ce(se)),le+=_,f.save(),f.beginPath(),f.rect(le,z+w,ue,n),f.clip(),_e(f,se.displayName||se.key,s,ce,le,z+w,ue,n,se.align||"left","middle"),f.restore(),le+=ue+k+_}f.save(),f.beginPath(),f.rect(X+w,z+w+(D?n:0),$,q-n*D),f.clip();var de=z;if(e&&0<re&&(e.forEach(function(e,t){(U&&U(e,t,p,y)||!U)&&(Q.push(e),ee.push(t))}),Q.forEach(function(e,t){ne.push(function(r,n,l,e,t){var h=Math.max(l,e);return t.forEach(function(e,t){var o=e.format,i=r[e.key];if(o&&(i=o(i,r,n,t)),"string"==typeof i){var a=i.match(Re);a&&a.length&&(h=Math.max(h,l*(a.length+1)))}}),h}(e,ee[t],x,l,o))}),!H&&1<G.length&&(G=G.slice(0,1)),Q.forEach(function(h,e){var s=ee[e],u=ne[e],c=de+V*(s+C*D*1)+n*D+w+P,t={x:X,y:c,width:K,height:u};if(de+=u,le=X+w+A,Se(_o(r),t)){O&&O.call(a,f,h,s,t,ee.indexOf(s),p,y);var d=j&&j.hoverIndex===s,g=G&&-1!==G.indexOf(s);g&&S?(f.fillStyle=S,f.fillRect(X,c,K,u)):!g&&d&&T&&(f.fillStyle=T,f.fillRect(X,c,K,u));for(var o=function(e){var i=te[e],t=oe[e],o=i.drawCell,a=ae[e]-2*_,r=i.bodyColor||i.color||b;if(g&&R&&(r=R),!g&&d&&I&&(r=I),"function"==typeof r&&(r=r(h[i.key],h)),!Se({x:le+=_,y:c,width:a,height:u},v))return le+=a+k+_,"continue";var n=h[i.key];i.format&&(n=i.format(n,h,s,t)),f.save(),f.beginPath(),f.rect(le,c,a,u),f.clip();var l=function(){if(i.isIcon)0<a&&De(f,Te(n),"centerUniform",le,c+1,a,u-2,p,y);else{if(Po(n))return;var e="string"==typeof n?n.match(Re):null;if(e&&e.length){var t=n.split(Re),o=c;"middle"===i.vAlign?o=c+(u-t.length*x)/2:"bottom"===i.vAlign&&(o=c+(u-t.length*x)),t.forEach(function(e){_e(f,e,m,r,le,o,a,x,i.align||"left",i.vAlign||"middle"),o+=x})}else _e(f,n,m,r,le,c,a,u,i.align||"left",i.vAlign||"middle")}};o?o(f,n,{x:le,y:c,width:a,height:u},{column:i,colIndex:t,row:h,rowIndex:s,font:m,color:r,defaultDraw:l,data:p}):l(),le+=a+k+_,f.restore()},i=0;i<ie;i++)o(i)}})),j&&(j.rowHeights=ne,j.colWidths=ae,j.headHeight=D?n:0,j.rowLineWidth=V,j.columnLineWidth=k,j.translateX=A,j.translateY=P,j.autoHideScrollBar=E,j.multiple=H,j.selectedIndex=G,j.dataSource=e,j.columns=o,j.onSelectRow=W,j.onHoverCell=F,j.onClickCell=N,j.rawDatas=Q,j.rawIndexs=ee,j.rawCols=te,j.rawColIndexs=oe,j.pannable=a.getValue("pannable"),j.scrollBarInteractiveSize=a.getValue("scrollBarInteractiveSize"),j.scrollSpeed=a.getValue("scrollSpeed")),V){var ge=z+w+n*D+P;f.beginPath(),C&&D&&(ge+=V/2,f.moveTo(X,ge),f.lineTo(X+K,ge),ge+=V/2);for(var fe=0;fe<re&&!(z+Z<(ge+=ne[fe]+V/2));fe++)ge<z||(f.moveTo(X,ge),f.lineTo(X+K,ge)),ge+=V/2;f.strokeStyle=d,f.lineWidth=V,f.stroke()}if(f.restore(),k){var ve=X+w+A;f.beginPath();for(var pe=0;pe<ie-1;pe++)ve+=ae[pe]+k/2,f.moveTo(ve,z),f.lineTo(ve,z+Z),ve+=k/2;f.strokeStyle=c,f.lineWidth=k,f.stroke()}if(p&&j&&g){var ye=k?k*(ie-1):0,xe=V?(re-1)*V:0;ae.forEach(function(e){ye+=e}),ne.forEach(function(e){xe+=e});var be={x:X+w,y:z+w+(D?n:0),width:$,height:q-(D?n:0)},me={width:ye,height:xe},we={x:A,y:P},ke=y.getZoom?y.getZoom():1;lt(f,be,me,we,{visible:!E||j.scrollBarVisible,color:L,barWidth:B?M/ke:M,gap:2/ke},j)}}w&&Ie(f,u,X,z,K,Z,w)},pie:function(k,e,V,t,o){var i=function(e,t){var o=t.getValue("pieData"),i=t.getValue("radius"),a=t.getValue("center"),r=t.getValue("startAngle"),n=t.getValue("label"),l=t.getValue("labelLine"),h=t.getValue("roseType"),s=t.getValue("seriesName"),u=t.getValue("hoverOffset"),c=t.getValue("avoidLabelOverlap");o=ht.Default.clone(o);var d=e.x,g=e.y,f=e.width,v=e.height,p=Math.min(f,v),y=void 0,x=void 0,b=void 0,m=void 0;y="string"==typeof i[0]?parseInt(i[0])/100*p:i[0],x="string"==typeof i[1]?parseInt(i[1])/100*p:i[1],b="string"==typeof a[0]?parseInt(a[0])/100*f+d:a[0]+d,m="string"==typeof a[1]?parseInt(a[1])/100*v+g:a[1]+g;for(var w=r=Math.PI/180*r,k=-r,V=0,C=o.length;V<C;V++){var _=o[V]||{},D=_.value,T=void 0===D?0:D,I=_.name,S=void 0===I?"":I,R=_.itemStyle,P=void 0===R?{}:R,A=_.labelLine,E=void 0===A?{}:A,L=_.label,M=void 0===L?{}:L,B=$t[V%$t.length];E=Object.assign({normal:{},emphasis:{}},E),M=Object.assign({normal:{},emphasis:{}},M),P=Object.assign({color:B},P),o[V]={value:T,name:S,itemStyle:P,labelLine:E,label:M}}var O=o.map(function(e){return e.value}),H=O.reduce(function(e,t){return e+t},0),W=O.map(function(e){return e/H}),F=[];if(h){var N=Math.max.apply(Math,Ve(O)),G=x-y;F=O.map(function(e){return e/N*G})}return{innerRadius:y,outerRadius:x,centerX:b,centerY:m,pieDataPct:W,roseRadiusArray:F,pieData:o,lineStartAngle:k,endAngle:w,startAngle:r,roseType:h,seriesName:s,hoverOffset:u,avoidLabelOverlap:c,g_labelNormal:Object.assign({show:!0,position:"center",formatter:"",color:void 0,font:"8px serif"},n.normal||{}),g_labelEmphasis:Object.assign({show:!1,position:"center",formatter:"",color:void 0,font:"9px serif"},n.emphasis||{}),g_labelLineNormal:Object.assign({show:!0,length:15,length2:10,formatter:"",width:1,type:"dashed",font:"8px serif",lineColor:void 0,textColor:void 0},l.normal||{}),g_labelLineEmphasis:Object.assign({show:!1,length:15,length2:10,formatter:"",width:2,type:"dashed",font:"9px serif",lineColor:void 0,textColor:void 0},l.emphasis||{})}}(e,V),L=i.innerRadius,M=i.outerRadius,B=i.centerX,O=i.centerY,H=i.pieDataPct,W=i.roseRadiusArray,F=i.pieData,N=i.lineStartAngle,C=i.endAngle,G=i.startAngle,U=i.roseType,Y=i.seriesName,_=i.hoverOffset,u=i.avoidLabelOverlap,a=i.g_labelNormal,r=i.g_labelEmphasis,j=i.g_labelLineNormal,X=i.g_labelLineEmphasis,n=[],l=[],h=void 0,z=void 0,K=[],y=[];t&&(h=Io(o,t,V),z=h.foucusArcNum);for(var s=N,c=0,d=H.length;c<d;c++){var g=H[c]*Math.PI*2;n.push({x:B+M*Math.cos(s),y:O+M*Math.sin(s)}),l.push(H[c]*Math.PI*2),s+=g}function f(e){var t=e.x0,o=e.y0,i=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;(u&&s||!u)&&(k.beginPath(),k.moveTo(t,o),i<=t?(u&&k.lineTo(B-M-5,o),k.lineTo(i,a),i-=h,k.textAlign="right",k.textBaseline="top",k.lineTo(i,a),l.forEach(function(e,t){k.fillText(e,i-3,a-n/2+r*t)})):(u&&k.lineTo(B+M+5,o),k.lineTo(i,a),i+=h,k.textAlign="left",k.textBaseline="top",k.lineTo(i,a),l.forEach(function(e,t){k.fillText(e,i+3,a-n/2+r*t)})),k.stroke())}function v(e,t){k.save();var o=e.width,i=e.type,a=e.font,s=e.lineColor,u=e.textColor;if(k.lineWidth=o,k.font=a,"dashed"===i?k.setLineDash([2,2]):k.setLineDash([]),s&&(k.strokeStyle=s),u&&(k.fillStyle=u),t)l(z,t);else for(var r=0,n=F.length;r<n;r++)l(r,t);function l(e,t){var o=t?F[e].labelLine.emphasis:F[e].labelLine.normal,i=o.show,a=o.width,r=o.type,n=o.font,l=o.lineColor,h=o.textColor;!1!==i&&(k.save(),void 0!==a&&(k.lineWidth=a),void 0!==r&&("dashed"===r?k.setLineDash([2,2]):k.setLineDash([])),void 0!==n&&(k.font=n),void 0!==l&&(k.strokeStyle=l),void 0!==h&&(k.fillStyle=h),void 0===l&&void 0===s&&(k.strokeStyle=F[e].itemStyle.color),void 0===h&&void 0===u&&(k.fillStyle=F[e].itemStyle.color),t?f(K[e]):(!x||x&&z!==e)&&f(K[e]),k.restore())}k.restore()}h&&(h.arcPoints=n,h.arcAngles=l,h.center={x:B,y:O},h.radius={outerRadius:M,innerRadius:L},h.pieDataPct=H,h.rect=e),function(){for(var e=j.length,t=j.length2,o=j.font,i=j.formatter,a=X.length,r=X.length2,n=X.font,l=X.formatter,h=0,s=F.length;h<s;h++){var u=F[h],c=H[h]*Math.PI*2,d=N+c/2;N+=c;var g=B+(U?W[h]+L:M)*Math.cos(d),f=O+(U?W[h]+L:M)*Math.sin(d),v=void 0,p=void 0,y=!0;if(z===h){var x=u.labelLine.emphasis,b=x.show,m=x.length,w=x.length2,k=x.formatter,V=x.font;void 0!==m&&(a=m),void 0!==w&&(r=w),void 0!==k&&(l=k),void 0!==V&&(n=V),void 0!==b&&(y=b),v=B+(M+a)*Math.cos(d),p=O+(M+a)*Math.sin(d)}else{var C=u.labelLine.normal,_=C.show,D=C.length,T=C.length2,I=C.formatter,S=C.font;void 0!==D&&(e=D),void 0!==T&&(t=T),void 0!==I&&(i=I),void 0!==S&&(o=S),void 0!==_&&(y=_),v=B+(M+e)*Math.cos(d),p=O+(M+e)*Math.sin(d)}var R=Wo({name:u.name,value:u.value,pct:H[h],font:z===h?n:o,formatter:z===h?l:i,seriesName:Y}),P=R.labelTextArray,A=R.textHeight,E=R.beginHeight;K.push({x0:g,y0:f,x1:v,y1:p,labelLineIsShow:y,labelTextArray:P,lineLength2:z===h?r:t,oneTextHeight:A,allTextHeight:2*E}),h===s-1&&(N=-G)}}(),u&&function(e,c,t,d,g){for(var o=[],i=[],a=0;a<e.length;a++)e[a].x0<c?o.push(e[a]):i.push(e[a]);function r(e,t){e.sort(function(e,t){return e.y0-t.y0});for(var o=(e=e.filter(function(e){if(e.labelLineIsShow)return e}))[0].allTextHeight/2,i=e[e.length-1].allTextHeight/2,a=g-o-i,r=e.length,n=0,l=0,h=e.length;l<h;l++)if(a<(n+=e[l].allTextHeight)){r=l;break}var s=a/(r-1);s===1/0&&(s=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=c+t*(d+10),e[u].y1=o+u*s}0<o.length&&r(o,-1),0<i.length&&r(i,1)}(K,B,0,M,e.height);var p=j.show,x=X.show;function b(e){for(var t=G,o=0,i=F.length;o<i;o++){k.save();var a=F[o],r=a.itemStyle.borderWidth,n=M;if(C+=H[o]*Math.PI*2,"stroke"===e&&r||"fill"===e){if(k.beginPath(),k.moveTo(L*Math.cos(G),L*Math.sin(G)),z===o?(n=U?W[o]+_+L:M+_,k.arc(0,0,n,G,C,!1),k.arc(0,0,L,C,G,!0),k.globalAlpha=.8):(n=U?W[o]+L:M,k.arc(0,0,n,G,C,!1),k.arc(0,0,L,C,G,!0)),k.closePath(),"fill"===e){var l=a.itemStyle.color;if("string"==typeof l)k.fillStyle=l;else if("object"===(void 0===l?"undefined":Z(l))){var h=l.type,s=l.colorStops,u=null;if("radial"===h)u=k.createRadialGradient(0,0,L,0,0,n);else if("linear"===h){var c=eo(G,C,M,L,t),d=c.minY,g=c.maxY;u=k.createLinearGradient(0,d,0,g)}if(u&&s instanceof Array){for(var f=0,v=s.length;f<v;f++){var p=s[f],y=p.offset,x=p.color;void 0!==y&&void 0!==x&&u.addColorStop(y,x)}k.fillStyle=u}}k.fill()}else if("stroke"===e){var b=a.itemStyle,m=b.borderColor,w=b.borderType;k.strokeStyle=m||"#000",k.lineWidth=r,"dashed"===w?k.setLineDash([2,2]):k.setLineDash([]),k.stroke()}k.globalAlpha=1}G=C,o==i-1&&(G=C=Math.PI/180*V.getValue("startAngle")),k.restore()}}function m(e,o,i,t,a){var r=F[e],n=Wo({name:r.name,value:r.value,pct:H[e],font:t,formatter:a,seriesName:Y}),l=n.labelTextArray,h=n.textHeight,s=n.beginHeight;l.forEach(function(e,t){k.fillText(e,o,i-s+h*t)})}function w(g,e){var f=g.position,v=g.formatter,t=g.color,p=g.font;if(k.fillStyle=t||"black",k.font=p,e)a(z,e);else for(var o=0,i=F.length;o<i;o++)a(o,e);function a(e,t){var o=t?F[e].label.emphasis:F[e].label.normal,i=o.show,a=o.position,r=o.formatter,n=o.color,l=o.font;if(!1!==i){k.save();var h=void 0,s=void 0,u=p,c=v;if(void 0!==a&&(f=a),void 0!==n&&(k.fillStyle=n),void 0===n&&void 0===g.color&&"center"===f&&(k.fillStyle=F[e].itemStyle.color),"center"===f&&(h=B,s=O),"inside"===f){var d=y[e];h=d.textX,s=d.textY}void 0!==r&&(c=r),void 0!==l&&(u=l,k.font=l),t?m(z,h,s,u,c):(!T||T&&z!==e)&&m(e,h,s,u,c),k.restore()}}}p&&v(j,!1),x&&void 0!==z&&v(X,!0),k.save(),k.translate(B,O),k.rotate(2*Math.PI-2*G),b("fill"),b("stroke"),k.restore(),function(){for(var e=0,t=F.length;e<t;e++){var o=H[e]*Math.PI*2,i=N+o/2;N+=o;var a=B+(U?W[e]:M)*Math.cos(i),r=O+(U?W[e]:M)*Math.sin(i),n=(a+(B+L*Math.cos(i)))/2,l=(r+(O+L*Math.sin(i)))/2;y.push({textX:n,textY:l}),e===t-1&&(N=-G)}}();var D=a.show,T=r.show;k.save(),k.textAlign="center",k.textBaseline="top",D&&w(a,!1),T&&void 0!==z&&w(r,!0),k.restore()},ruler:function(u,e,t,o,i){t.getValue("value");var c=t.getValue("max"),d=t.getValue("min"),a=t.getValue("labelEvery"),r=t.getValue("labelFont"),n=t.getColor("labelColor"),l=t.getValue("labelAlign"),h=t.getValue("labelDistance"),s=t.getValue("labelOffsetX"),g=t.getValue("labelOffsetY"),f=t.getValue("direction"),v=t.getValue("paddingBefore"),p=t.getValue("paddingAfter"),y=t.getColor("background"),x=t.getValue("smallTickEvery"),b=t.getColor("smallTickColor"),m=t.getValue("smallTickWidth"),w=t.getValue("smallTickLongness"),k=t.getValue("mediumTickEvery"),V=t.getColor("mediumTickColor"),C=t.getValue("mediumTickWidth"),_=t.getValue("mediumTickLongness"),D=t.getValue("largeTickEvery"),T=t.getColor("largeTickColor"),I=t.getValue("largeTickWidth"),S=t.getValue("largeTickLongness"),R=t.getValue("reverse"),P=e.x,A=e.y,E=e.width,L=e.height;y&&(u.fillStyle=y,u.fillRect(P,A,E,L));var M=c-d,B=L;f!==se&&f!==he||(B=E);var O=[{every:x,color:b,longness:w,width:m},{every:k,color:V,longness:_,width:C},{every:D,color:T,longness:S,width:I}];if(R){if(O.forEach(function(e){if(e.every){var t=Ce(e.longness,B);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var o=P+E-v,i=(E-v-p)*(e.every/M),a=f===ne?A:A+L;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(o,a),u.lineTo(o,a+t),o-=i}else{var n=A+L-v,l=(L-v-p)*(e.every/M),h=f===se?P:P+E;f===he&&(t=0-t);for(var s=d;s<=c;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n-=l}u.stroke()}}),a){var H=Ce(h,B);if(u.fillStyle=n,u.font=r,f===ne||f===le){var W=P+E-v+s,F=a/M*(E-v-p),N=(f===ne?A:A+L)+g;f===le?H=0-H-ho(r,"1").height:u.textBaseline="hanging";for(var G=d;G<=c;G+=a){var U=ho(r,G);l===ue?me(u,G,r,n,W-.5*U.width,N+H,U.width,U.height,l,"middle"):l===he?u.fillText(G,W-ho(r,G).width+2,N+H):l===se&&u.fillText(G,W,N+H),W-=F}}else{var Y=A+L-v+g,j=a/M*(L-v-p),X=(f===se?P:P+E)+s;u.textBaseline="middle",f===he&&(H=0-H);for(var z=d;z<=c;z+=a){var K=z+"";f===he?u.fillText(K,X+H-ho(r,K).width+2,Y):u.fillText(K,X+H,Y),Y-=j}}}}else if(O.forEach(function(e){if(e.every){var t=Ce(e.longness,B);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var o=P+v,i=(E-v-p)*(e.every/M),a=f===ne?A:A+L;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(o,a),u.lineTo(o,a+t),o+=i}else{var n=A+v,l=(L-v-p)*(e.every/M),h=f===se?P:P+E;f===he&&(t=0-t);for(var s=d;s<=c;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n+=l}u.stroke()}}),a){var Z=Ce(h,B);if(u.fillStyle=n,u.font=r,f===ne||f===le){var $=P+v+s,q=a/M*(E-v-p),J=(f===ne?A:A+L)+g;f===le?Z=0-Z-ho(r,"1").height:u.textBaseline="hanging";for(var Q=d;Q<=c;Q+=a){var ee=ho(r,Q);l===ue?me(u,Q,r,n,$-.5*ee.width,J+Z,ee.width,ee.height,l,"middle"):l===he?u.fillText(Q,$-ho(r,Q).width+2,J+Z):l===se&&u.fillText(Q,$,J+Z),$+=q}}else{var te=A+v+g,oe=a/M*(L-v-p),ie=(f===se?P:P+E)+s;u.textBaseline="middle",f===he&&(Z=0-Z);for(var ae=d;ae<=c;ae+=a){var re=ae+"";f===he?u.fillText(re,ie+Z-ho(r,re).width+2,te):u.fillText(re,ie+Z,te),te+=oe}}}},multilineText:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),u=t.getColor("background"),c=t.getValue("padding"),d=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),y=e.x,x=e.y,b=e.width,m=e.height,w=so(c),k=we(w,4),V=k[0],C=k[1],_=k[2],D=k[3],T=so(f),I=we(T,4),S=I[0],R=I[1],P=I[2],A=I[3];o.beginPath(),ht.Default.drawRoundRect(o,y,x,b,m,S,R,A,P),o.closePath(),Uo(o,{borderWidth:g,borderColor:d,dash:v,dashPattern:p,background:u});var E=D,L=V,M=0,B=b-D-C,O=r.split(/\n/),H=O.length*s+V+_,W=D+V;O.forEach(function(e){var t=ho(n,e);M=Math.max(M,t.width),F(o,e,n,h,E,L,B,s,l,"middle"),L+=s}),W+=M,i&&i.constructor===ht.Node&&(i.getWidth()===W&&i.getHeight()===H||(i.setSize(W,H),i.setSize3d(W,100,H)))},slider:function(e,t,o,i,a){var r=o.getValue("min"),n=o.getValue("max"),l=o.getValue("value"),h=o.getValue("step"),s=o.getValue("sliderImage"),u=o.getValue("sliderBorderWidth"),c=o.getValue("sliderBorderRadius"),d=o.getColor("sliderBorderColor"),g=o.getColor("sliderBackground"),f=o.getValue("sliderWidth"),v=o.getValue("sliderHeight"),p=o.getValue("sliderOffsetX"),y=o.getValue("sliderOffsetY"),x=o.getColor("barBackground"),b=o.getColor("barValueBackground"),m=o.getValue("barGradient"),w=o.getColor("barGradientColor"),k=o.getValue("barWidth"),V=o.getValue("barBorderRadius"),C=o.getValue("padding"),_=o.getValue("disabled"),D=o.getColor("disabledLayerColor"),T=o.getColor("showToolTip"),I=o.getColor("toolTipFormat"),S=Io(a,i,o);l=Math.min(n,Math.max(r,l));var R=t.x,P=t.y,A=t.width,E=t.height,L=Math.abs(n-r),M={x:R+C,y:P+(E-k)/2,width:A-2*C,height:k};V<1&&(V*=k),Yo(e,M,x,V);var B=ht.Default.clone(M);B.width*=(l-r)/L,m&&(b=ht.Default.createGradient(e,m,b,w,M.x,M.y,M.width,M.height)),Yo(e,B,b,V);var O=B.x+B.width-f/2+p,H=B.y+(k-v)/2+y;s?N(e,ht.Default.getImage(s),O,H,f,v):(c<1&&(c*=Math.min(f,v)),e.beginPath(),W(e,O,H,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=D,e.fillRect(R,P,A,E)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=h,S.showToolTip=T,S.toolTipFormat=I,S.barRect=M,S.onChange=o.getValue("onChange"),S.sliderRect={x:O,y:H,width:f,height:v})},rangeSlider:function(e,t,o,i,a){var r=o.getValue("min"),n=o.getValue("max"),l=o.getValue("value"),h=o.getValue("step"),s=o.getValue("sliderImage"),u=o.getValue("sliderBorderWidth"),c=o.getValue("sliderBorderRadius"),d=o.getColor("sliderBorderColor"),g=o.getColor("sliderBackground"),f=o.getValue("sliderWidth"),v=o.getValue("sliderHeight"),p=o.getValue("sliderOffsetX"),y=o.getValue("sliderOffsetY"),x=o.getColor("barBackground"),b=o.getColor("barValueBackground"),m=o.getValue("barGradient"),w=o.getColor("barGradientColor"),k=o.getValue("barWidth"),V=o.getValue("barBorderRadius"),C=o.getValue("padding"),_=o.getValue("disabled"),D=o.getColor("disabledLayerColor"),T=o.getColor("showToolTip"),I=o.getColor("toolTipFormat"),S=Io(a,i,o),R=t.x,P=t.y,A=t.width,E=t.height,L=we(l,2),M=L[0],B=L[1];M=Math.max(r,M),B=Math.min(n,B);var O=Math.abs(n-r),H={x:R+C,y:P+(E-k)/2,width:A-2*C,height:k};V<1&&(V*=k),Yo(e,H,x,V);var W=ht.Default.clone(H);W.width*=(B-M)/O,W.x+=(M-r)/O*H.width,m&&(b=ht.Default.createGradient(e,m,b,w,H.x,H.y,H.width,H.height)),Yo(e,W,b,V);var F=W.x-f/2+p,N=W.x+W.width-f/2+p,G=W.y+(k-v)/2+y;s?(Ae(e,ht.Default.getImage(s),F,G,f,v),Ae(e,ht.Default.getImage(s),N,G,f,v)):(c<1&&(c*=Math.min(f,v)),e.beginPath(),Pe(e,F,G,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke()),e.beginPath(),Pe(e,N,G,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=D,e.fillRect(R,P,A,E)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=h,S.valueBarDraggable=o.getValue("valueBarDraggable"),S.onChange=o.getValue("onChange"),S.showToolTip=T,S.toolTipFormat=I,S.barRect=H,S.valueBarRect=W,S.sliderRect={x:F,y:G,width:f,height:v},S.sliderRect2={x:N,y:G,width:f,height:v})},multipleComboBox:function(r,e,t,o,i){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),u=t.getColor("borderColor"),c=t.getColor("focusBorderColor"),d=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),y=t.getColor("itemTextColor"),x=t.getColor("itemBorderWidth"),b=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),k=t.getColor("itemGradient"),V=t.getColor("itemGradientColor"),C=t.getValue("itemPadding"),_=t.getValue("itemHGap"),D=t.getValue("itemVGap"),T=t.getValue("closeIconOnLeft"),I=t.getValue("closeIconSize"),S=t.getColor("closeIconColor"),R=t.getValue("padding"),P=Io(i,o,t),A=P&&P.editing,E=e.x,L=e.y,M=e.width,B=e.height,O=so(R),H=we(O,4),W=H[0],F=H[1],N=H[2],G=H[3],U=so(d),Y=we(U,4),j=Y[0],X=Y[1],z=Y[2],K=Y[3],Z=void 0;o&&A?(Z=f,u=c):Z=g,r.beginPath(),ht.Default.drawRoundRect(r,E,L,M,B,j,X,K,z),r.closePath(),Z&&(r.fillStyle=Z,r.fill()),(s&&u||A&&s&&c)&&(r.strokeStyle=A?c:u,r.lineWidth=s,r.stroke());var $=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){$.push(n[t]);break}});var q=[],J=so(C),Q=we(J,4),ee=Q[0],te=Q[1],oe=Q[2],ie=Q[3],ae=[E+G-x/2,L+W-x/2,M-G-F+x,B-W-N+x+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<$.length){var le=[E+G+x/2,L+W+x/2,M-G-F-x,B-W-N-x],he=le[0],se=le[1],ue=0,ce=so(m),de=we(ce,4),ge=de[0],fe=de[1],ve=de[2],pe=de[3],ye=w;$.forEach(function(e){var t=e.label||e.value,o=ho(p,t);ne||(ne=o.height),ue&&he+o.width+_+x+7>le[0]+le[2]&&(he=le[ue=0],se+=ne+D+x+ee+oe,re++);var i=[he,se,o.width+ie+te+I+2,o.height+ee+oe];x&&(r.beginPath(),r.strokeStyle=b,Ee.apply(void 0,[r].concat(i,[ge,fe,pe,ve])),r.closePath(),w&&(k&&V&&(ye=Me.apply(void 0,[r,k,w,V].concat(i))),r.fillStyle=ye,r.fill()),r.stroke());var a=[i[0]+ie+o.width+2,i[1]+ee,I,i[3]-oe-ee];T&&(a[0]=i[0]+ie,i[0]+=I+2),i[2]=i[2]-I-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=S,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-I)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-I)/2+I),r.moveTo(a[0]+a[2],a[1]+(a[3]-I)/2),r.lineTo(a[0],a[1]+(a[3]-I)/2+I),r.stroke(),Le.apply(void 0,[r,t,p,y].concat(i,["center","middle"])),he+=o.width+_+x+ie+te+I+2,ue++})}else if(l){var xe=ho(p,l),be=[E+G,L+W,M-G-F,xe.height+ee+oe];Le.apply(void 0,[r,l,p,ke.placeholderColor].concat(be,["left","middle"])),ne=xe.height}if(r.restore(),h){var me=[E-s/2,L-s/2,M+s,B+s];r.save(),r.beginPath(),Ee.apply(void 0,[r].concat(me,[j,X,K,z])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}o&&(o.__suggestHeight=W+N+(ee+oe+ne)*re+D*(re-1)),P&&(P.value=a,P.valueItemInfo=q,P.disabled=h,P.dataSource=n,P.dropIconWidth=t.getValue("dropIconWidth"),P.dropIconHeight=t.getValue("dropIconHeight"),P.dropRowHeight=t.getValue("dropRowHeight"),P.dropWidth=t.getValue("dropWidth"),P.dropBackground=t.getValue("dropBackground"),P.dropLabelFont=t.getValue("dropLabelFont"),P.dropLabelColor=t.getValue("dropLabelColor"),P.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),P.dropActiveBackground=t.getValue("dropActiveBackground"),P.dropHoverBackground=t.getValue("dropHoverBackground"),P.dropMaxHeight=t.getValue("dropMaxHeight"),P.onChange=t.getValue("onChange"),P.hideSelected=t.getValue("hideSelected"),P.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,u){var o=t.getValue("content"),i=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),c=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),d=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),y=t.getColor("borderColor"),x=t.getValue("borderWidth")||0,b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),k=so(d),V=we(k,4),C=V[0],_=(V[1],V[2],V[3]),D=e.x+x/2,T=e.y+x/2,I=e.width-x,S=e.height-x,R=[D,T,I,S];if(h.save(),n)if(h.beginPath(),le===c){var P=I-10;h.moveTo(D,T),h.lineTo(D+I,T),h.lineTo(D+I,T+S-10),h.lineTo(D+P*l+10,T+S-10),h.lineTo(D+P*l+5,T+S),h.lineTo(D+P*l,T+S-10),h.lineTo(D,T+S-10),h.closePath(),R=[D,T,I,S-10]}else if(se===c){var A=S-10;h.moveTo(D+10,T),h.lineTo(D+I,T),h.lineTo(D+I,T+S),h.lineTo(D+10,T+S),h.lineTo(D+10,T+A*l+10),h.lineTo(D,T+A*l+5),h.lineTo(D+10,T+A*l),h.closePath(),R=[D+10,T,I-10,S]}else if(he===c){var E=S-10;h.moveTo(D,T),h.lineTo(D+I-10,T),h.lineTo(D+I-10,T+E*l),h.lineTo(D+I,T+E*l+5),h.lineTo(D+I-10,T+E*l+10),h.lineTo(D+I-10,T+S),h.lineTo(D,T+S),h.closePath(),R=[D,T,I-10,S]}else{var L=I-10;h.moveTo(D+L*l,T+10),h.lineTo(D+L*l+5,T),h.lineTo(D+L*l+10,T+10),h.lineTo(D+I,T+10),h.lineTo(D+I,T+S),h.lineTo(D,T+S),h.lineTo(D,T+10),h.closePath(),R=[D,T+10,I,S-10]}else h.beginPath(),h.rect(D,T,I,S);if(Uo(h,{borderWidth:x,borderColor:y,background:i,bgGradient:a,bgGradientColor:r,contentRect:R,dash:b,dashPattern:m}),i){var M;a&&(i=(M=ht.Default).createGradient.apply(M,[h,a,i,r].concat(Ve(R)))),h.fillStyle=i,h.fill()}if(y&&x&&(h.lineWidth=x,h.strokeStyle=y,h.stroke()),o){o.length;var B=T+C+(c===ne?10:0);o.forEach(function(e,t){var r=D+_+(c===se?10:0),n=0,l=(o.length,[]);e.forEach(function(e,t){var o=Go(e.text,s,u),i=ho(e.font||v,o);n=Math.max(n,i.height),l[t]=i.width}),e.forEach(function(e,t){var o=Go(e.text,s,u),i=Go(e.font,s,u)||v,a=Go(e.vAlign,s,u)||w;h.fillStyle=Go(e.color,s,u)||p,h.font=i,"top"===(h.textBaseline=a)?h.fillText(o,r,B):"middle"===a?h.fillText(o,r,B+n/2):h.fillText(o,r,B+n),r+=l[t]+f}),B+=g+n})}h.restore()},textBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),h=t.getValue("wordBreak"),s=t.getValue("vAlign"),u=t.getColor("color"),c=t.getValue("lineHeight"),d=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),y=t.getValue("borderWidth"),x=t.getValue("borderRadius"),b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),k=t.getColor("bgGradientColor"),V=so(g),C=we(V,4),_=C[0],D=C[1],T=C[2],I=C[3],S=so(x),R=we(S,4),P=R[0],A=R[1],E=R[2],L=R[3];if(o.beginPath(),ht.Default.drawRoundRect(o,e.x,e.y,e.width,e.height,P,A,L,E),o.closePath(),Uo(o,{borderWidth:y,borderColor:p,dash:b,dashPattern:m,background:f,bgGradient:w,bgGradientColor:k,contentRect:[e.x,e.y,e.width,e.height]}),r&&i){o.save();var M=I,B=_,O=parseInt(e.width)-I-D,H=parseInt(e.height)-_-T,W=Io(a,i,t),F=po(r,l,O,h);if(n&&F.length*c>H){var N=O+"-"+H+l+c,G=W&&W.cacheScaleMap,U=0,Y=0,j=void 0,X=void 0,z=void 0,K=void 0,Z=void 0,$=void 0;if(s="top",G&&G.key===N&&G.content===r)X=1/(j=G.scale),K=j*c,$=parseInt(O*X),o.scale(j,j),F=po(r,l,$,h);else{for(G={key:N,content:r};U<4;){if(X=1/(j=Math.sqrt(H/((F.length+Y)*c))),K=j*c,$=parseInt(O*X),Z&&o.scale(Z,Z),o.scale(j,j),(z=po(r,l,$,h)).length*K>H)Y+=Math.ceil((z.length*K-H)/K+.5),Z=X;else{if(!(z.length*K<H&&Math.abs(H-z.length*K)>2*K)){F=z;break}Y-=Math.floor((H-z.length*K)/K),Z=X}4==++U&&(F=z)}G.scale=j,W&&(W.cacheScaleMap=G)}M=I*X,B=_*X,F.forEach(function(e,t){ht.Default.drawText(o,e,l,u,M,B,$,K,d,s),B+=c})}else if(v&&(F.length+1)*c<H){var q=O+"-"+H+l+c,J=W&&W.cacheScaleMap,Q=0,ee=void 0,te=void 0,oe=void 0,ie=void 0,ae=void 0,re=void 0;if(s="top",J&&J.key===q&&J.content===r)te=1/(ee=J.scale),ie=ee*c,re=parseInt(O*te),o.scale(ee,ee),F=po(r,l,re,h);else{var ne=Math.sqrt(H/(F.length*c));for(J={key:q,content:r};Q<4;){if(te=1/(ee=ne),ie=ee*c,re=parseInt(O*te),ae&&o.scale(ae,ae),o.scale(ee,ee),!((oe=po(r,l,re,h)).length*ie>H||oe.length*ie<H&&H-oe.length*ie>.8*ie)){F=oe;break}ae=te,ne*=Math.sqrt(H/(oe.length*ie)),4==++Q&&(F=oe)}J.scale=ee,W&&(W.cacheScaleMap=J)}M=I*te,B=_*te,F.forEach(function(e,t){ht.Default.drawText(o,e,l,u,M,B,re,ie,d,s),B+=c})}else"middle"===s?B+=(H-F.length*c)/2:"bottom"===s&&(B+=H-F.length*c),F.forEach(function(e,t){ht.Default.drawText(o,e,l,u,M,B,O,c,d,s),B+=c});o.restore()}},textEllipsis:function(e,t,o,i,a){var r,n=o.getValue("content"),l=o.getValue("font"),h=o.getValue("vAlign"),s=o.getColor("color"),u=o.getValue("padding"),c=o.getColor("background"),d=o.getColor("borderColor"),g=o.getValue("borderWidth"),f=o.getValue("borderRadius"),v=o.getValue("dash"),p=o.getValue("dashPattern"),y=o.getValue("bgGradient"),x=o.getColor("bgGradientColor"),b=so(u),m=we(b,4),w=m[0],k=m[1],V=m[2],C=m[3],_=so(f),D=we(_,4),T=D[0],I=D[1],S=D[2],R=D[3];e.beginPath(),ht.Default.drawRoundRect(e,t.x,t.y,t.width,t.height,T,I,R,S),e.closePath(),Uo(e,{borderWidth:g,borderColor:d,dash:v,dashPattern:p,background:c,bgGradient:y,bgGradientColor:x,contentRect:[t.x,t.y,t.width,t.height]});for(var P=[t.x+C,t.y+w,t.width-C-k,t.height-w-V],A=P[2],E="",L=0;L<n.length;L++){E+=n[L];var M=ho(l,E+"...").width;if(M<=A&&L==n.length-1){n=E;break}if(A<M){n=(E=E.slice(0,E.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,s].concat(P,["left",h]))},verticalTextBox:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),h=t.getValue("padding"),s=t.getValue("startOnRight"),u=t.getColor("background"),c=t.getColor("borderColor"),d=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),y=t.getColor("bgGradientColor"),x=t.getValue("wordBreak"),b=t.getValue("vGap"),m=t.getValue("hGap"),w=so(h),k=we(w,4),V=k[0],C=k[1],_=k[2],D=k[3],T=so(g),I=we(T,4),S=I[0],R=I[1],P=I[2],A=I[3];if(i.beginPath(),ht.Default.drawRoundRect(i,e.x,e.y,e.width,e.height,S,R,A,P),i.closePath(),Uo(i,{borderWidth:d,borderColor:c,dash:f,dashPattern:v,background:u,bgGradient:p,bgGradientColor:y,contentRect:[e.x,e.y,e.width,e.height]}),r){var E={x:e.x+D,y:e.y+V,width:e.width-D-C,height:e.height-V-_},L=E.x,M=E.y,B=E.width,O=function(e,g,f,v,p){var y=[];return e.split("\n").forEach(function(e){if(""===e&&(e=U),p)Array.prototype.push.apply(y,Ne(e,f,g,v));else{for(var t,o,i,a="",r=void 0,n=void 0,l="",h=0;h<e.length;h++)e.charAt(h).match(/[a-z|A-Z]/g)?a+="1":a+="2";a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var s=0;s<a.length;s++)a.charAt(s).match(/\_/g)&&(e=yo(e,s+1,"|"));t=e.split("|"),o=a.split("_");for(var u=(i=ho(g,"å›¾")).height/3,c=0,d=t.length;c<d;c++)r=l+t[c],u+=i.height*t[c].length+v,"1"===o[c][0]?f<u?(l?(y.push(l),l="",c--):(n=Ne(t[c],f,g,v),Array.prototype.push.apply(y,n.slice(0,n.length-1)),l=n[n.length-1]),u=i.height/3):u===f?(y.push(r),l="",u=i.height/3):l=r:f<u?(n=Ne(r,f,g,v),Array.prototype.push.apply(y,n.slice(0,n.length-1)),l=n[n.length-1],u=i.height/3):l=r;l&&y.push(l)}}),y}(r,n,E.height,b,x),H=ho(n,"å›¾"),W=H.width,F=H.height,N=void 0,G=void 0;i.save(),i.fillStyle=l,i.textBaseline="top",i.font=n,s?(N=L+B-W,G=M,O.forEach(function(e){for(var t=0;t<e.length;t++){var o=e[t];i.fillText(o,N,G),G+=b+F}G=M,N=N-W-m})):(N=L,G=M,O.forEach(function(e){for(var t=0;t<e.length;t++){var o=e[t];i.fillText(o,N,G),G+=b+F}G=M,N+=W+m})),i.restore()}},tree:function(Ve,Ce,_e,De,Te){var e=_e.getValue("dataSource"),Ie=_e.getValue("treeItemHeight"),Se=_e.getValue("indent"),Re=_e.getValue("tagsHeight"),Pe=_e.getValue("tagsSpace"),Ae=_e.getValue("tagsRectRadius"),Ee=_e.getValue("translateX"),Le=_e.getValue("translateY"),Me=_e.getValue("treeFont"),Be=_e.getValue("tagsFont"),t=_e.getValue("treeFontColor"),Oe=_e.getValue("onhoverColor"),He=_e.getValue("selectedColor"),o=_e.getValue("backColor"),We=_e.getValue("borderColor"),i=_e.getValue("lineColor"),Fe=_e.getValue("showLine"),Ne=_e.getValue("showCheckbox"),Ge=_e.getValue("showBorder"),Ue=_e.getValue("showIcon"),Ye=_e.getValue("showTags"),a=_e.getValue("showScrollBar"),je=_e.getValue("visibleFunc"),Xe=dt(_e.getValue("openIcon")),ze=dt(_e.getValue("closeIcon")),Ke=dt(_e.getValue("loadingIcon")),Ze=dt(_e.getValue("defaultIcon")),$e=dt(_e.getValue("checkIcon")),qe=dt(_e.getValue("unCheckIcon")),Je=dt(_e.getValue("unCheckAllIcon")),r=_e.getValue("scrollBarColor"),Qe=Ce.x,et=Ce.y,tt=Ce.width,n=Ce.height,ot=0,it=0,at=st(_e),l=Io(Te,De,_e),h=null;if(l&&(l.rootTree?h=l.rootTree:0<e.length&&(h=new M(De),e.forEach(function(e){e&&O(e,h)}),l.rootTree=h)),h){Ve.save(),Ve.fillStyle=o,Ve.beginPath(),Ve.fillRect(Qe,et,tt,n),Ve.fill(),Ve.restore(),Ve.save(),Ve.font=Me,Ve.fillStyle=t,Ve.strokeStyle=i,Ve.setLineDash([1,1]),Ve.lineWidth=.5,Ve.lineJoin="miter",Ve.textBaseline="middle",Ve.textAlign="start",Ve.beginPath(),Ve.rect(Qe,et,tt,n),Ve.clip();var rt=null,nt={expandIconRects:[],treeBackRects:[],checkIconRects:[],tagRects:[]};h.children.forEach(function e(r){if(je(r)){var t=r.text,o=r.parent._treeItemRect,i=ho(Me,t),a=i.width,n=i.height;r._textInfo={textWidth:a,textHeight:n},r._treeItemRect={x:o?o.x+Se:Qe+Ee+Se,y:rt?rt._treeItemRect.y+Ie:et+Le,width:a+at,height:Ie};var l=r.text,h=r.children,s=r.expanded,u=r.selected,c=r.checked,d=r.disabled,g=r.isLeaf,f=r.icon,v=r.tags,p=r._isShowUnCheckAllIcon,y=r._isLoading,x=r._isHovering,b=r._treeItemRect,m=r._textInfo,w=function(e,t,o){var i=o.getValue("showCheckbox"),a=o.getValue("showIcon"),r=o.getValue("expandIconSize"),n=o.getValue("iconSize"),l=o.getValue("checkIconSize"),h=o.getValue("space"),s=st(o),u=e.x,c=e.y,d=e.width,g=e.height,f={x:u,y:c+(g-r)/2,width:r,height:r},v={x:f.x+r+h,y:c+(g-l)/2,width:l,height:l},p={x:null,y:c+(g-n)/2,width:n,height:n},y={x:null,y:c,width:d-s,height:g},x={x:t.x,y:c,width:t.width,height:g};return p.x=i?v.x+l+h:f.x+r+h,y.x=a?p.x+n+h:p.x,{expandIconRect:f,checkIconRect:v,iconRect:p,textRect:y,backRect:x}}(b,Ce,_e),k=w.expandIconRect,V=w.checkIconRect,C=w.iconRect,_=w.textRect,D=w.backRect;if(r._elementRect=w,rt=r,it+=Ie,ot=Math.max(ot,_.x-Ee+m.textWidth),gt(Ce,D)&&u){var T=D.x,I=D.y,S=D.width,R=D.height;Ve.save(),Ve.fillStyle=He,Ve.fillRect(T,I,S,R),Ve.restore()}if(gt(Ce,b)){if(x){var P=D.x,A=D.y,E=D.width,L=D.height;Ve.save(),Ve.fillStyle=Oe,Ve.fillRect(P,A,E,L),Ve.restore()}if(u){var M=D.x,B=D.y,O=D.width,H=D.height;Ve.save(),Ve.fillStyle=He,Ve.fillRect(M,B,O,H),Ve.restore()}if(!g){var W=k.x,F=k.y,N=k.width,G=k.height;ct(Ve,y?Ke:s?ze:Xe,"fill",W,F,N,G,De,Te),nt.expandIconRects.push({treeItem:r,expandIconRect:k})}if(Ne){var U=V.x,Y=V.y,j=V.width,X=V.height;ct(Ve,c?$e:p?Je:qe,"fill",U,Y,j,X,De,Te),nt.checkIconRects.push({treeItem:r,checkIconRect:V}),0===h.length&&(r.checkBefore(),r.checkAfter())}if(Ue){var z=C.x,K=C.y,Z=C.width,$=C.height,q=f?dt(f):Ze;ct(Ve,q,"fill",z,K,Z,$,De,Te)}if(Ge){var J=D.x,Q=D.y,ee=D.width,te=D.height;Ve.save(),Ve.strokeStyle=We,Ve.setLineDash([]),Ve.beginPath(),Ve.strokeRect(J+.25,Q+.25,ee-.5,te),Ve.stroke(),Ve.restore()}if(Ye&&0<v.length){var oe=tt,ie=D.y+(D.height-Re)/2;Ve.save(),Ve.font=Be,Ve.textAlign="center",Ve.fillStyle="#777777",Ve.strokeStyle="white",Ve.lineWidth=1,Ve.setLineDash([]),v.forEach(function(e){var t=e.text,o=e.textColor,i=e.backColor,a=ho(Be,t).width;oe-=(a+=2*Ae)+Pe,i&&(Ve.fillStyle=i),Ve.beginPath(),ft(Ve,oe,ie,a,Re,Ae),Ve.closePath(),Ve.fill(),o&&(Ve.strokeStyle=o),Ve.strokeText(t,oe+a/2,ie+Re/2),Ve.stroke(),nt.tagRects.push({treeItem:r,info:e,tagRect:{x:oe,y:ie,width:a,height:Re}})}),Ve.restore()}if(Fe){var ae=function(e){var t=e.getValue("showCheckbox"),o=e.getValue("showIcon");return t?"checkIconRect":o?"iconRect":"textRect"}(_e),re=ut(w[ae]).leftMiddle,ne=ut(k),le=ne.rightMiddle,he=ne.topMiddle,se=ne.middleMiddle;Ve.beginPath(),g?Ve.moveTo(se.x,se.y):Ve.moveTo(le.x,le.y),Ve.lineTo(re.x,re.y);var ue=r.getPreSibling();if(ue&&je(ue)){var ce=ue._elementRect,de=ue.isLeaf,ge=ce.expandIconRect,fe=ut(ge),ve=fe.bottomMiddle,pe=fe.middleMiddle;de?Ve.moveTo(pe.x,pe.y):Ve.moveTo(ve.x,ve.y),g?Ve.lineTo(se.x,se.y):Ve.lineTo(he.x,he.y)}else{var ye=r.parent._elementRect;if(ye){var xe=ut(ye[ae]).bottomMiddle;Ve.moveTo(se.x,xe.y),g?Ve.lineTo(se.x,se.y):Ve.lineTo(he.x,he.y)}}Ve.stroke()}if(Ve.fillText(l,_.x,_.y+Ie/2),d){var be=D.x,me=D.y,we=D.width,ke=D.height;Ve.save(),Ve.fillStyle="rgba(192, 192, 192, 0.5)",Ve.fillRect(be,me,we,ke),Ve.restore()}nt.treeBackRects.push({treeItem:r,backRect:D})}s&&0<h.length&&h.forEach(e)}}),Ve.restore();var s=ot+8,u=it;if(tt<ot-2&&(u=it+8),l&&(l.translateX=Ee,l.translateY=Le,l.rectInfo=nt,l.scrollBarInfo={x:Qe,y:et,width:tt,height:n,boundWidth:s,boundHeight:u},l.handleTagClick=_e.getValue("handleTagClick"),l.handleCheck=_e.getValue("handleCheck"),l.accordion=_e.getValue("accordion"),l.handleExpand=_e.getValue("handleExpand"),l.loadData=_e.getValue("loadData"),l.handleSelect=_e.getValue("handleSelect"),l.multiSelect=_e.getValue("multiSelect")),a){var c={x:Qe,y:et,width:tt,height:n},d={width:s,height:u},g={x:Ee,y:Le};u<n&&0!==Le&&(d.height=n-Le),lt(Ve,c,d,g,{visible:!0,color:r,gap:0,barWidth:8},l||{})}}},chart:function(i,e,t,o,a){var r=t.getValue("series"),n=t.getValue("xAxis"),l=t.getValue("yAxis"),h=t.getValue("color"),s=t.getColor("background"),u=t.getValue("rectSelectable"),c=t.getValue("rectSelectBorderColor"),d=t.getValue("rectSelectBackground"),g={show:t.getValue("tooltip.show"),lineWidth:t.getValue("tooltip.line.width"),lineColor:t.getValue("tooltip.line.color")};if(r&&r.length){var f={color:h&&h.length?h:$t,xAxis:Kt(n,Yt),yAxis:Kt(l,Ut),series:r,tooltip:g,rectSelectable:u,rectSelectBorderColor:c,rectSelectBackground:d},v={seriesDatas:r.map(function(e){return e.data}),rect:e,contentRect:Jt(e),valueAxis:T,interactiveInfo:[]};if(function(e,t){var v=[];e.xAxis.forEach(function(e,t){e.show||v.push(2);var o=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0;if(o){var a=e.data,r=U;o=Math.max(-45,o),o=Math.min(45,o),a&&a.forEach(function(e){e.toString().length>r.length&&(r=e)});var n=ho(e.axisLabel.font,r),l=new ht.Math.Vector2(0,0),h=new ht.Math.Vector2(n.width,0),s=new ht.Math.Vector2(n.width,n.height),u=new ht.Math.Vector2(0,n.height),c=new ht.Math.Vector2(n.width/2,n.height/2),d=Math.PI*(o/180);l.rotateAround(c,d),h.rotateAround(c,d),s.rotateAround(c,d),u.rotateAround(c,d);var g=ht.Default.unionPoint([l,h,s,u]);v.push(g.height+4+i)}else{var f=ho(e.axisLabel.font,U);v.push(f.height+4+i)}}),t.xAxisHeights=v}(f,v),Zt(f,v),function(e,t){var o=t.xAxisHeights,i=t.yAxisWidths,a=t.contentRect,r=0;t.valueAxis===T&&e.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=ho(e.axisLabel.font,e.data[0]);i[0]=Math.max(t.width/2,i[0]),t=ho(e.axisLabel.font,e.data[e.data.length-1]),r=Math.max(t.width/2,r)}}),a.width-=r;var n,l=a.x,h=a.y,s=a.width,u=a.height,c=[],d=[],g=l,f=h,v=s,p=u,y=0;i.forEach(function(e){v-=e}),o.forEach(function(e){p-=e,y+=e}),v=Math.max(0,v),p=Math.max(0,p),g=l,f=h+(1<o.length?y-o[0]:0),i.forEach(function(e,t){t?c.push({x:g,y:f,width:e,height:p}):(c.push({x:g,y:f,width:e,height:p}),g+=e+v)}),g=l+(0<i.length?i[0]:0),f=h,o.forEach(function(e,t){t?(d.push({x:g,y:f,width:v,height:e}),f+=e):d.push({x:g,y:f+u-e,width:v,height:e})}),n={x:l+i[0]||0,y:h+(1<o.length?y-o[0]:0),width:v,height:p},t.bounds={xAxisRects:d,yAxisRects:c,bodyRect:n}}(f,v),o){var p=Io(a,o,t);if(p){var y=p;v.hoverIndex=y.hoverIndex,v._dragging=y._dragging,v.rectPoint1=y.rectPoint1,v.rectPoint2=y.rectPoint2,y._dragging&&y.rectPoint1&&y.rectPoint2&&(v.selectRect=Qt(y.rectPoint1,y.rectPoint2))}}if(s&&(i.fillStyle=s,i.fillRect(e.x,e.y,e.width,e.height)),function(i,e){var a=0,r=e.valueAxis,t=e.bounds,n=void 0,o=void 0;o=r===T?(n=i.xAxis,t.xAxisRects[0]):(n=i.yAxis,t.yAxisRects[0]),n.forEach(function(e,t){var o=0;"time"!==n.type&&e.data?o=e.data.length:i.series.forEach(function(e){((r===T?e.xAxisIndex:e.yAxisIndex)||0)===t&&(o=Math.max(o,series.data?series.data.length:0))}),a=Math.max(a,o)});var l=o,h=l.x,s=l.y,u=l.width,c=l.height,d=[],g=void 0,f=void 0;if(r===D){if(1===a)return d.push(s+c/2),d;g=1<a?c/(a-1):0,f=s}else{if(1===a)return d.push(h+u/2),d;g=1<a?u/(a-1):0,f=h}for(var v=0;v<a;v++)d.push(f),f+=g;return d}(f,v).forEach(function(e){v.interactiveInfo.push({position:e,axis:[]})}),function(v,e,p){var y=p.interactiveInfo.map(function(e){return e.position}),x=1;e.xAxis.forEach(function(e,o){var t=p.bounds.xAxisRects[o],i=t.x,a=t.y,r=t.width,n=t.height,l=e.data;if(e.axisLine.show&&(v.strokeStyle=e.axisLine.color,v.lineWidth=e.axisLine.width,v.beginPath(),o?(v.moveTo(i,a+n),v.lineTo(i+r,a+n)):(v.moveTo(i,a),v.lineTo(i+r,a)),v.stroke()),e.axisLabel.show||e.axisTick.show){var h=e.axisLabel.font,s=e.axisLabel.color,u=e.axisLabel.align,c=e.axisTick.length,d=o?a:a+2+(e.axisTick.show?e.axisTick.length:0),g=0,f=[];l.forEach(function(e){var t=ho(h,e);f.push(t),g+=t.width}),g>t.width&&!o&&(x=Math.ceil(g/t.width)),e.axisTick.show&&c&&(v.strokeStyle=e.axisTick.color,v.beginPath(),y.forEach(function(e,t){t%x==0&&(o?(v.moveTo(e,a+n),v.lineTo(e,a+n-c)):(v.moveTo(e,a),v.lineTo(e,a+c)))}),v.stroke()),e.axisLabel.show&&l.forEach(function(e,t){if(t%x==0){var o=f[t];ht.Default.drawText(v,e.toString(),h,s,y[t]-o.width/2,d,o.width,o.height,u)}})}})}(i,f,v),function(T,e,I){e.yAxis.forEach(function(e,o){var t=I.bounds.yAxisRects[o],i=t.x,a=t.y,r=t.width,n=t.height;if(e.axisLine.show&&(T.strokeStyle=e.axisLine.color,T.lineWidth=e.axisLine.width,T.beginPath(),o?(T.moveTo(i,a),T.lineTo(i,a+n)):(T.moveTo(i+r,a),T.lineTo(i+r,a+n)),T.stroke()),e.axisLabel.show){for(var l=e.valueRange,h=we(l,3),s=h[0],u=h[1],c=h[2],d=u-s,g=[],f=0;f<=u&&s<=f;)g.push(f),f+=c;if(u!==g[g.length-1]&&g.push(u),s<0){for(f=0-c;s<=f;)g.unshift(f),f+=c;s!==g[0]&&g.unshift(s)}var v=void 0;e.axisTick.show&&(v=e.axisTick.length)&&(T.strokeStyle=e.axisTick.color,T.beginPath(),g.forEach(function(e){var t=a+n*(1-(e-s)/d);o?(T.moveTo(i,t),T.lineTo(i+v,t)):(T.moveTo(i+r,t),T.lineTo(i+r-v,t))}),T.stroke());var p=r-2-(e.axisTick.show?v:0),y=e.axisLabel.font,x=e.axisLabel.color,b="auto"===e.axisLabel.align?o?se:he:e.axisLabel.align,m=ho(y,U),w=i+(o?v:0);if(g.forEach(function(e){var t=a+n*(1-(e-s)/d)-m.height/2;ht.Default.drawText(T,e.toString(),y,x,w,t,p,m.height,b)}),e.splitLine.show){var k=I.bounds.bodyRect,V=k.x,C=k.y,_=k.width,D=k.height;T.strokeStyle=e.splitLine.color,T.beginPath(),g.forEach(function(e,t){if(0!==t){var o=C+D*(1-(e-s)/d);T.moveTo(V,o),T.lineTo(V+_,o)}}),T.stroke()}}})}(i,f,v),r&&r.length&&(r.forEach(function(e,t){var o=(v.valueAxis===T?e.yAxisIndex:e.xAxisIndex)||0;!function(i,e,t,o,a){var r=e.data,n=e.itemStyle||{},l=t.ui.bounds,h=(l.xAxisRects,l.yAxisRects,l.bodyRect),s=(h.x,h.y),u=(h.width,h.height),c=(t.index,t.ui),d=t.xAxis,g=(t.yAxis,t.valueRange),f=(c.axisData,c.hoverIndex),v=e.name||null,p=g[0],y=g[1]-p,x=c.interactiveInfo,b=x.map(function(e){return e.position}),m=(c.valueAxis===D?e.yAxisIndex:e.xAxisIndex)||0;if(r&&r.length){var w=[],k=e.color||t.color;i.lineWidth=1,r.forEach(function(e,t){if(x[t]){var o=x[t].axis,i=(1-e/y)*u+s,a=void 0;w.push({x:b[t],y:i}),o[m]?a=o[m]:(a={label:d.data[t],datas:[]},x[t].axis[m]=a),a.datas.push([v,e])}}),i.strokeStyle=k,ht.Default.drawPoints(i,w),i.stroke();var V=n.size||1,C=V.emphasisSize||3;i.beginPath(),r.forEach(function(e,t){var o=(1-e/y)*u+s;i.moveTo(b[t],o),i.arc(b[t],o,f===t?C:V,0,2*Math.PI)}),i.stroke(),i.fillStyle=n.background||"#fff",i.fill()}}(i,e,{valueRange:f.yAxis[o].valueRange,yAxis:f.yAxis[e.yAxisIndex||0],xAxis:f.xAxis[e.xAxisIndex||0],color:Mo(f.color,t),index:t,ui:v})}),void 0!==v.hoverIndex)){var x=v.interactiveInfo[v.hoverIndex].position,b=v.bounds.bodyRect;i.strokeStyle=f.tooltip.lineColor,i.lineWidth=f.tooltip.lineWidth,i.beginPath(),i.moveTo(x,b.y),i.lineTo(x,b.y+b.height),i.stroke()}if(v.selectRect){var m=v.selectRect,w=m.x,k=m.y,V=m.width,C=m.height;i.fillStyle=d,i.fillRect(w,k,V,C),i.strokeStyle=c,i.strokeRect(w,k,V,C)}if(o){var _=Io(a,o,t);_.ui=v,_.option=f}}}},pieInteractor:new no,buttonInteractor:new Ze,inputInteractor:new Ye,textAreaInteractor:new Ue,radioInteractor:new $e,checkboxInteractor:new qe,colorPickerInteractor:new at,dateTimePickerInteractor:new rt,comboBoxInteractor:new bt,tableInteractor:new wt,sliderInteractor:new Ct,rangeSliderInteractor:new Dt,multipleComboBoxInteractor:new It,treeInteractor:new Pt,chartInteractor:new Wt,inputNumberInteractor:new ze,dateRangePickerInteractor:new Ft,Color:v,ListView:pt,ListDropDown:yt,getVectorInfo:Io,caluMultilineSize:function(e,t){var o=e.a("ht.content"),i=e.a(V.FONT),a=e.a(V.LINE_HEIGHT),r=e.a(V.PADDING),n=so(r),l=we(n,4),h=l[0],s=l[1],u=l[2],c=l[3],d=o.split(/\n/),g=0;return d.forEach(function(e){var t=ho(i,e);g=Math.max(g,t.width)}),{width:g+c+s,height:d.length*a+h+u}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,o=n.a("ht.padding"),i=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),u=so(o),c=we(u,4),d=c[0],g=c[1],f=c[2],v=c[3]+g+t,p=d+f+t;i&&(a===se||a===he?v+=10:p+=10);var y=0,x=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*h;e.forEach(function(e,t){var o=Go(e.text,n,l),i=ho(e.font||s,o);a=Math.max(a,i.height),r+=i.width}),y=Math.max(y,r),x+=a}),x+=(e.length-1)*r),{width:v+=y,height:p+=x}}},zo="0.0.6";return function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===o&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),Xo.openColorDropDown=et,Xo.openDateTimeDropDown=ot,Xo.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(V.FORM_ITEM_NAME),o=e.a(V.FORM_ITEM_GROUP);if(t)n[t]=mo(e);else if(o&&!n[V.FORM_ITEM_GROUP])if(e.a(V.INPUT_TYPE)===b)for(var i=0;i<l.length;i++){var a=l.get(i);if(o===a.a(V.FORM_ITEM_GROUP)&&a.a(V.CHECKED)){n[o]=mo(a);break}}else if(e.a(V.INPUT_TYPE)===k){var r=[];l.each(function(e){o===e.a(V.FORM_ITEM_GROUP)&&e.a(V.CHECKED)&&r.push(mo(e))}),n[o]=r}}),n},Xo.selectFile=Vo,Xo.getVersion=function(){return zo},Xo}();
